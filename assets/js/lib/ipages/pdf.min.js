!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsDistBuildPdf=t()}(this,function(){return r=[function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unreachable=e.warn=e.utf8StringToString=e.stringToUTF8String=e.stringToPDFString=e.stringToBytes=e.string32=e.shadow=e.setVerbosityLevel=e.ReadableStream=e.removeNullCharacters=e.readUint32=e.readUint16=e.readInt8=e.log2=e.loadJpegStream=e.isEvalSupported=e.isLittleEndian=e.createValidAbsoluteUrl=e.isSameOrigin=e.isNodeJS=e.isSpace=e.isString=e.isNum=e.isInt=e.isEmptyObj=e.isBool=e.isArrayBuffer=e.isArray=e.info=e.globalScope=e.getVerbosityLevel=e.getLookupTableFactory=e.deprecated=e.createObjectURL=e.createPromiseCapability=e.createBlob=e.bytesToString=e.assert=e.arraysToBytes=e.arrayByteLength=e.FormatError=e.XRefParseException=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.StatTimer=e.PasswordResponses=e.PasswordException=e.PageViewport=e.NotImplementedException=e.NativeImageDecoding=e.MissingPDFException=e.MissingDataException=e.MessageHandler=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VERBOSITY_LEVELS=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=(l(16),l(17)),l="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:void 0,f={errors:0,warnings:1,infos:5},p=f.warnings;function i(e){f.warnings<=p&&console.log("Warning: "+e)}function m(e){throw new Error(e)}function o(e,t){e||m(t)}b.prototype=new Error;var g=b.constructor=b;function b(e,t){this.name="PasswordException",this.message=e,this.code=t}_.prototype=new Error;var v=_.constructor=_;function _(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}A.prototype=new Error;var y=A.constructor=A;function A(e){this.name="InvalidPDFException",this.message=e}w.prototype=new Error;var S=w.constructor=w;function w(e){this.name="MissingPDFException",this.message=e}C.prototype=new Error;var P=C.constructor=C;function C(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}(k.prototype=new Error).name="NotImplementedException";var R=k.constructor=k;function k(e){this.message=e}(T.prototype=new Error).name="MissingDataException";var x=T.constructor=T;function T(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}(I.prototype=new Error).name="XRefParseException";var E=I.constructor=I;function I(e){this.message=e}(D.prototype=new Error).name="FormatError";var L=D.constructor=D;function D(e){this.message=e}F.prototype=new Error;var O=F.constructor=F;function F(e){this.name="AbortException",this.message=e}var N=/\x00/g;function M(e){o("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function j(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength),e.byteLength)}n=["rgb(",0,",",0,",",0,")"],s.makeCssRgb=function(e,t,r){return n[1]=e,n[3]=t,n[5]=r,n.join("")},s.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},s.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},s.applyInverseTransform=function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]},s.getAxialAlignedBoundingBox=function(e,t){var r=s.applyTransform(e,t),n=s.applyTransform(e.slice(2,4),t),i=s.applyTransform([e[0],e[3]],t),e=s.applyTransform([e[2],e[1]],t);return[Math.min(r[0],n[0],i[0],e[0]),Math.min(r[1],n[1],i[1],e[1]),Math.max(r[0],n[0],i[0],e[0]),Math.max(r[1],n[1],i[1],e[1])]},s.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},s.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},s.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],e=e[2]*t[1]+e[3]*t[3],t=(r+e)/2,r=Math.sqrt((r+e)*(r+e)-4*(r*e-i*n))/2,e=t-r||1;return[Math.sqrt(t+r||1),Math.sqrt(e)]},s.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},s.intersect=function(e,t){function r(e,t){return e-t}var n=[e[0],e[2],t[0],t[2]].sort(r),i=[e[1],e[3],t[1],t[3]].sort(r),a=[];return e=s.normalizeRect(e),t=s.normalizeRect(t),(n[0]===e[0]&&n[1]===t[0]||n[0]===t[0]&&n[1]===e[0])&&(a[0]=n[1],a[2]=n[2],(i[0]===e[1]&&i[1]===t[1]||i[0]===t[1]&&i[1]===e[1])&&(a[1]=i[1],a[3]=i[2],a))},s.sign=function(e){return e<0?-1:1},q=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],s.toRoman=function(e,t){o(z(e)&&0<e,"The number should be a positive integer.");for(var r=[];1e3<=e;)e-=1e3,r.push("M");n=e/100|0,e%=100,r.push(q[n]),n=e/10|0,e%=10,r.push(q[10+n]),r.push(q[20+e]);var n=r.join("");return t?n.toLowerCase():n},s.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},s.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},s.extendObj=function(e,t){for(var r in t)e[r]=t[r]},s.getInheritableProperty=function(e,t,r){for(;e&&!e.has(t);)e=e.get("Parent");return e?r?e.getArray(t):e.get(t):null},s.inherit=function(e,t,r){for(var n in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r)e.prototype[n]=r[n]},s.loadScript=function(e,t){var r=document.createElement("script"),n=!1;r.setAttribute("src",e),t&&(r.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(r)};var n,q,r=s;function s(){}W.prototype={clone:function(e){var t=("scale"in(e=e||{})?e:this).scale,r=("rotation"in e?e:this).rotation;return new W(this.viewBox.slice(),t,r,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(e,t){return r.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=r.applyTransform([e[0],e[1]],this.transform),e=r.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],e[0],e[1]]},convertToPdfPoint:function(e,t){return r.applyInverseTransform([e,t],this.transform)}};var U=W;function W(e,t,r,n,u,h){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=n,this.offsetY=u;var i,a,s,o,d,f,p,l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;switch(r=(r%=360)<0?r+360:r){case 180:i=-1,s=a=0,o=1;break;case 90:s=a=1,o=i=0;break;case 270:s=a=-1,o=i=0;break;default:s=a=0,o=-(i=1)}h&&(s=-s,o=-o),r=0===i?(d=Math.abs(c-e[1])*t+n,f=Math.abs(l-e[0])*t+u,p=Math.abs(e[3]-e[1])*t,Math.abs(e[2]-e[0])*t):(d=Math.abs(l-e[0])*t+n,f=Math.abs(c-e[1])*t+u,p=Math.abs(e[2]-e[0])*t,Math.abs(e[3]-e[1])*t),this.transform=[i*t,a*t,s*t,o*t,d-i*t*l-s*t*c,f-a*t*l-o*t*c],this.width=p,this.height=r,this.fontScale=t}var B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function z(e){return"number"==typeof e&&(0|e)===e}function u(){var r={};return r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r}H.prototype={time:function(e){this.enabled&&(e in this.started&&i("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||i("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){for(var e=this.times,t="",r=0,n=0,i=e.length;n<i;++n){var a=e[n].name;a.length>r&&(r=a.length)}for(n=0,i=e.length;n<i;++n){var s=e[n],o=s.end-s.start;t+=function(e,t,r){for(;e.length<r;)e+=t;return e}(s.name," ",r)+" "+o+"ms\n"}return t}};var G=H;function H(){this.started=Object.create(null),this.times=[],this.enabled=!0}function X(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});throw new Error('The "Blob" constructor is not supported.')}function Y(e,t){var r;if(!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL)return r=X(e,t),URL.createObjectURL(r);for(var n="data:"+t+";base64,",i=0,a=e.length;i<a;i+=3){var s=255&e[i],o=255&e[i+1],l=255&e[i+2];n+=c[s>>2]+c[(3&s)<<4|o>>4]+c[i+1<a?(15&o)<<2|l>>6:64]+c[i+2<a?63&l:64]}return n}var c;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function V(r,n,e){var i=2<arguments.length&&void 0!==e?e:null;return r?new Promise(function(e,t){e(r.apply(i,n))}):Promise.resolve(void 0)}function h(e){if("object"!==(void 0===e?"undefined":a(e)))return e;switch(e.name){case"AbortException":return new O(e.message);case"MissingPDFException":return new S(e.message);case"UnexpectedResponseException":return new P(e.message,e.status);default:return new v(e.message,e.details)}}function J(e,t,r){t?e.resolve():e.reject(r)}function Q(e,t,s){var o=this,l=(this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbacksCapabilities=Object.create(null)),c=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===o.sourceName)if(t.stream)o._processStreamMessage(t);else if(t.isReply){e=t.callbackId;if(!(t.callbackId in l))throw new Error("Cannot resolve callback "+e);var r=l[e];delete l[e],"error"in t?r.reject(h(t.error)):r.resolve(t.data)}else{if(!(t.action in c))throw new Error("Unknown action from worker: "+t.action);var n,i,a=c[t.action];t.callbackId?(n=o.sourceName,i=t.sourceName,Promise.resolve().then(function(){return a[0].call(a[1],t.data)}).then(function(e){s.postMessage({sourceName:n,targetName:i,isReply:!0,callbackId:t.callbackId,data:e})},function(e){e instanceof Error&&(e+=""),s.postMessage({sourceName:n,targetName:i,isReply:!0,callbackId:t.callbackId,error:e})})):t.streamId?o._createStreamSink(t):a[0].call(a[1],t.data)}},s.addEventListener("message",this._onComObjOnMessage)}Q.prototype={on:function(e,t,r){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'+e+'"');n[e]=[t,r]},send:function(e,t,r){e={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(e,r)},sendWithPromise:function(e,t,r){var n=this.callbackId++,e={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:n},t=u();this.callbacksCapabilities[n]=t;try{this.postMessage(e,r)}catch(e){t.reject(e)}return t.promise},sendWithStream:function(r,n,e,t){var i=this,a=this.streamId++,s=this.sourceName,o=this.targetName;return new d.ReadableStream({start:function(e){var t=u();return i.streamControllers[a]={controller:e,startCall:t,isClosed:!1},i.postMessage({sourceName:s,targetName:o,action:r,streamId:a,data:n,desiredSize:e.desiredSize}),t.promise},pull:function(e){var t=u();return i.streamControllers[a].pullCall=t,i.postMessage({sourceName:s,targetName:o,stream:"pull",streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=u();return i.streamControllers[a].cancelCall=t,i.streamControllers[a].isClosed=!0,i.postMessage({sourceName:s,targetName:o,stream:"cancel",reason:e,streamId:a}),t.promise}},e)},_createStreamSink:function(e){function i(e){var t=e.stream,r=e.chunk,n=e.transfers,i=e.success,e=e.reason;a.postMessage({sourceName:o,targetName:l,stream:t,streamId:s,chunk:r,success:i,reason:e},n)}var a=this,t=this,r=this.actionHandler[e.action],s=e.streamId,n=e.desiredSize,o=this.sourceName,l=e.sourceName,c=u(),c={enqueue:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2];this.isCancelled||(t=this.desiredSize,this.desiredSize-=r,0<t&&this.desiredSize<=0&&(this.sinkCapability=u(),this.ready=this.sinkCapability.promise),i({stream:"enqueue",chunk:e,transfers:n}))},close:function(){this.isCancelled||(i({stream:"close"}),delete t.streamSinks[s])},error:function(e){this.isCancelled||(this.isCancelled=!0,i({stream:"error",reason:e}))},sinkCapability:c,onPull:null,onCancel:null,isCancelled:!1,desiredSize:n,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[s]=c,V(r[0],[e.data,c],r[1]).then(function(){i({stream:"start_complete",success:!0})},function(e){i({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){function t(e){var t=e.stream,r=e.success,e=e.reason;n.comObj.postMessage({sourceName:i,targetName:a,stream:t,success:r,streamId:s,reason:e})}function r(){Promise.all([n.streamControllers[e.streamId].startCall,n.streamControllers[e.streamId].pullCall,n.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(e=e.promise,Promise.resolve(e).catch(function(){}))})).then(function(){delete n.streamControllers[e.streamId]})}var n=this,i=this.sourceName,a=e.sourceName,s=e.streamId;switch(e.stream){case"start_complete":J(this.streamControllers[e.streamId].startCall,e.success,h(e.reason));break;case"pull_complete":J(this.streamControllers[e.streamId].pullCall,e.success,h(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){t({stream:"pull_complete",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&0<e.desiredSize&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,V(this.streamSinks[e.streamId].onPull).then(function(){t({stream:"pull_complete",success:!0})},function(e){t({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":o(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if(o(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),r();break;case"error":o(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(h(e.reason)),r();break;case"cancel_complete":J(this.streamControllers[e.streamId].cancelCall,e.success,h(e.reason)),r();break;case"cancel":if(!this.streamSinks[e.streamId])break;V(this.streamSinks[e.streamId].onCancel,[h(e.reason)]).then(function(){t({stream:"cancel_complete",success:!0})},function(e){t({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(h(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.VERBOSITY_LEVELS=f,e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.AbortException=O,e.InvalidPDFException=y,e.MessageHandler=Q,e.MissingDataException=x,e.MissingPDFException=S,e.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},e.NotImplementedException=R,e.PageViewport=U,e.PasswordException=g,e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},e.StatTimer=G,e.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.UnexpectedResponseException=P,e.UnknownErrorException=v,e.Util=r,e.XRefParseException=E,e.FormatError=L,e.arrayByteLength=j,e.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];for(var t,r,n=0,i=e.length,a=0;a<i;a++)n+=r=j(t=e[a]);var s=0,o=new Uint8Array(n);for(a=0;a<i;a++)r=(t=(t=e[a])instanceof Uint8Array?t:"string"==typeof t?M(t):new Uint8Array(t)).byteLength,o.set(t,s),s+=r;return o},e.assert=o,e.bytesToString=function(e){o(null!==e&&"object"===(void 0===e?"undefined":a(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],n=0;n<t;n+=8192){var i=Math.min(n+8192,t),i=e.subarray(n,i);r.push(String.fromCharCode.apply(null,i))}return r.join("")},e.createBlob=X,e.createPromiseCapability=u,e.createObjectURL=Y,e.deprecated=function(e){console.log("Deprecated API usage: "+e)},e.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},e.getVerbosityLevel=function(){return p},e.globalScope=l,e.info=function(e){f.infos<=p&&console.log("Info: "+e)},e.isArray=function(e){return e instanceof Array},e.isArrayBuffer=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e&&void 0!==e.byteLength},e.isBool=function(e){return"boolean"==typeof e},e.isEmptyObj=function(e){for(var t in e)return!1;return!0},e.isInt=z,e.isNum=function(e){return"number"==typeof e},e.isString=function(e){return"string"==typeof e},e.isSpace=function(e){return 32===e||9===e||13===e||10===e},e.isNodeJS=function(){return"object"===("undefined"==typeof process?"undefined":a(process))&&process+""=="[object process]"},e.isSameOrigin=function(e,t){try{var r=new URL(e);if(!r.origin||"null"===r.origin)return!1}catch(e){return!1}return e=new URL(t,r),r.origin===e.origin},e.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(e)switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return 1;default:return}}(r))return r}catch(e){}return null},e.isLittleEndian=function(){var e=new Uint8Array(4);return(e[0]=1)===new Uint32Array(e.buffer,0,1)[0]},e.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},e.loadJpegStream=function(e,t,r){var n=new Image;n.onload=function(){r.resolve(e,n)},n.onerror=function(){r.resolve(e,null),i("Error during JPEG image loading")},n.src=t},e.log2=function(e){for(var t=1,r=0;t<e;)t<<=1,r++;return r},e.readInt8=function(e,t){return e[t]<<24>>24},e.readUint16=function(e,t){return e[t]<<8|e[t+1]},e.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},e.removeNullCharacters=function(e){return"string"!=typeof e?(i("The argument for removeNullCharacters must be a string."),e):e.replace(N,"")},e.ReadableStream=d.ReadableStream,e.setVerbosityLevel=function(e){p=e},e.shadow=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r},e.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},e.stringToBytes=M,e.stringToPDFString=function(e){var t,r=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<r;t+=2)n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<r;++t){var i=B[e.charCodeAt(t)];n.push(i?String.fromCharCode(i):e.charAt(t))}return n.join("")},e.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},e.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},e.warn=i,e.unreachable=m},function(u,e,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.getDefaultSetting=e.LinkTarget=e.getFilenameFromUrl=e.isValidUrl=e.isExternalLinkTargetSet=e.addLinkAttributes=e.RenderingCancelledException=e.CustomStyle=void 0;var t=function(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e};function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=h(0);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p="noopener noreferrer nofollow",h=(t(r,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("invalid canvas size");var r=document.createElement("canvas"),n=r.getContext("2d");return r.width=e,r.height=t,{canvas:r,context:n}}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("canvas is not specified");if(t<=0||r<=0)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),r);function r(){f(this,r)}t(n,[{key:"fetch",value:function(e){var a=this,s=e.name;return s?new Promise(function(t,r){var n=a.baseUrl+s+(a.isCompressed?".bcmap":""),i=new XMLHttpRequest;i.open("GET",n,!0),a.isCompressed&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){var e=void 0;if(a.isCompressed&&i.response?e=new Uint8Array(i.response):!a.isCompressed&&i.responseText&&(e=(0,o.stringToBytes)(i.responseText)),e)return void t({cMapData:e,compressionType:a.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE})}r(new Error("Unable to load "+(a.isCompressed?"binary ":"")+"CMap at: "+n))}},i.send(null)}):Promise.reject(new Error("CMap name must be specified."))}}]);t=n;function n(e){var t=e.baseUrl,t=void 0===t?null:t,e=e.isCompressed,e=void 0!==e&&e;f(this,n),this.baseUrl=t,this.isCompressed=e}l=["ms","Moz","Webkit","O"],c=Object.create(null),g.getProp=function(e,t){if(1===arguments.length&&"string"==typeof c[e])return c[e];var r,n=(t=t||document.documentElement).style;if("string"==typeof n[e])return c[e]=e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=0,s=l.length;a<s;a++)if("string"==typeof n[r=l[a]+i])return c[e]=r;return c[e]="undefined"},g.setProp=function(e,t,r){e=this.getProp(e);"undefined"!==e&&(t.style[e]=r)};var l,c,m=g;function g(){}i.prototype=new Error,i.prototype.name="RenderingCancelledException";var b=i.constructor=i;function i(e,t){this.message=e,this.type=t}var a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},v=["","_self","_blank","_parent","_top"];function s(e){var t=o.globalScope.PDFJS;switch(e){case"pdfBug":return!!t&&t.pdfBug;case"disableAutoFetch":return!!t&&t.disableAutoFetch;case"disableStream":return!!t&&t.disableStream;case"disableRange":return!!t&&t.disableRange;case"disableFontFace":return!!t&&t.disableFontFace;case"disableCreateObjectURL":return!!t&&t.disableCreateObjectURL;case"disableWebGL":return!t||t.disableWebGL;case"cMapUrl":return t?t.cMapUrl:null;case"cMapPacked":return!!t&&t.cMapPacked;case"postMessageTransfers":return!t||t.postMessageTransfers;case"workerPort":return t?t.workerPort:null;case"workerSrc":return t?t.workerSrc:null;case"disableWorker":return!!t&&t.disableWorker;case"maxImageSize":return t?t.maxImageSize:-1;case"imageResourcesPath":return t?t.imageResourcesPath:"";case"isEvalSupported":return!t||t.isEvalSupported;case"externalLinkTarget":if(!t)return a.NONE;switch(t.externalLinkTarget){case a.NONE:case a.SELF:case a.BLANK:case a.PARENT:case a.TOP:return t.externalLinkTarget}return(0,o.warn)("PDFJS.externalLinkTarget is invalid: "+t.externalLinkTarget),t.externalLinkTarget=a.NONE,a.NONE;case"externalLinkRel":return t?t.externalLinkRel:p;case"enableStats":return!(!t||!t.enableStats);case"pdfjsNext":return!(!t||!t.pdfjsNext);default:throw new Error("Unknown default setting: "+e)}}e.CustomStyle=m,e.RenderingCancelledException=b,e.addLinkAttributes=function(e,t){var r=t&&t.url;e.href=e.title=r?(0,o.removeNullCharacters)(r):"",r&&(void 0===(r=t.target)&&(r=s("externalLinkTarget")),e.target=v[r],void 0===(r=t.rel)&&(r=s("externalLinkRel")),e.rel=r)},e.isExternalLinkTargetSet=function(){switch(s("externalLinkTarget")){case a.NONE:return!1;case a.SELF:case a.BLANK:case a.PARENT:case a.TOP:return!0}},e.isValidUrl=function(e,t){return(0,o.deprecated)("isValidUrl(), please use createValidAbsoluteUrl() instead."),null!==(0,o.createValidAbsoluteUrl)(e,t?"http://example.com":null)},e.getFilenameFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("?"),t=Math.min(0<t?t:e.length,0<r?r:e.length);return e.substring(e.lastIndexOf("/",t)+1,t)},e.LinkTarget=a,e.getDefaultSetting=s,e.DEFAULT_LINK_REL=p,e.DOMCanvasFactory=h,e.DOMCMapReaderFactory=t},function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.build=e.version=e._UnsupportedManager=e.setPDFNetworkStreamClass=e.PDFPageProxy=e.PDFDocumentProxy=e.PDFWorker=e.PDFDataRangeTransport=e.LoopbackPort=e.getDocument=void 0;var c=function(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e};function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=t(0),p=t(1),h=t(12),d=t(11),g=t(6),b=t(14);var v,_,l=!1,y=!1,A="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,t=!1,S=("undefined"==typeof window?(l=!0,void 0===require.ensure&&(require.ensure=require("node-ensure")),t=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(t=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(v=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")),"undefined"!=typeof requirejs&&requirejs.load),w=t?function(t){require.ensure([],function(){var e=require("./pdf.worker.js");t(e.WorkerMessageHandler)})}:S?function(t){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){t(e.WorkerMessageHandler)})}:null;P=0,R.prototype={get promise(){return this._capability.promise},destroy:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}};var P,C=R;function R(){this._capability=(0,f.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+P++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}x.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var r=this._rangeListeners,n=0,i=r.length;n<i;++n)r[n](e,t)},onDataProgress:function(n){var i=this;this._readyCapability.promise.then(function(){for(var e=i._progressListeners,t=0,r=e.length;t<r;++t)e[t](n)})},onDataProgressiveRead:function(n){var i=this;this._readyCapability.promise.then(function(){for(var e=i._progressiveReadListeners,t=0,r=e.length;t<r;++t)e[t](n)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(e,t){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}};var k=x;function x(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,f.createPromiseCapability)()}E.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}};var T=E;function E(e,t,r){this.pdfInfo=e,this.transport=t,this.loadingTask=r}L.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new f.PageViewport(this.view,e,t,0,0)},getAnnotations:function(e){e=e&&e.intent||null;return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,e),this.annotationsIntent=e),this.annotationsPromise},render:function(e){function t(e){var t=s.renderTasks.indexOf(o);0<=t&&s.renderTasks.splice(t,1),r.cleanupAfterRender&&(r.pendingCleanup=!0),r._tryCleanup(),e?o.capability.reject(e):o.capability.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var r=this,n=this.stats,i=(n.time("Overall"),this.pendingCleanup=!1,"print"===e.intent?"print":"display"),a=e.canvasFactory||new p.DOMCanvasFactory,s=(this.intentStates[i]||(this.intentStates[i]=Object.create(null)),this.intentStates[i]),o=(s.displayReadyCapability||(s.receivingOperatorList=!0,s.displayReadyCapability=(0,f.createPromiseCapability)(),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:i,renderInteractiveForms:!0===e.renderInteractiveForms})),new G(t,e,this.objs,this.commonObjs,s.operatorList,this.pageNumber,a)),a=(o.useRequestAnimationFrame="print"!=i,s.renderTasks||(s.renderTasks=[]),s.renderTasks.push(o),o.task);return e.continueCallback&&((0,f.deprecated)("render is used with continueCallback parameter"),a.onContinue=e.continueCallback),s.displayReadyCapability.promise.then(function(e){r.pendingCleanup?t():(n.time("Rendering"),o.initializeGraphics(e),o.operatorListChanged())}).catch(t),a},getOperatorList:function(){var t,e="oplist",r=(this.intentStates[e]||(this.intentStates[e]=Object.create(null)),this.intentStates[e]);return r.opListReadCapability||(t={operatorListChanged:function(){var e;r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),0<=(e=r.renderTasks.indexOf(t))&&r.renderTasks.splice(e,1))}},r.receivingOperatorList=!0,r.opListReadCapability=(0,f.createPromiseCapability)(),r.renderTasks=[],r.renderTasks.push(t),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:e})),r.opListReadCapability.promise},streamTextContent:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===e.normalizeWhitespace,combineTextItems:!0!==e.disableCombineTextItems},{highWaterMark:100,size:function(e){return e.items.length}})},getTextContent:function(e){var r=this.streamTextContent(e=e||{});return new Promise(function(n,e){var t=r.getReader(),i={items:[],styles:Object.create(null)};!function r(){t.read().then(function(e){var t=e.value;e.done?n(i):(f.Util.extendObj(i.styles,t.styles),f.Util.appendToArray(i.items,t.items),r())},e)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var r=[];return Object.keys(this.intentStates).forEach(function(e){"oplist"!==e&&this.intentStates[e].renderTasks.forEach(function(e){var t=e.capability.promise.catch(function(){});r.push(t),e.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(r)},destroy:function(){(0,f.deprecated)("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(e){e=this.intentStates[e];return 0!==e.renderTasks.length||e.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(e,t){t=this.intentStates[t];t.displayReadyCapability&&t.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){for(var r=this.intentStates[t],n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);for(r.operatorList.lastChunk=e.lastChunk,n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();e.lastChunk&&(r.receivingOperatorList=!1,this._tryCleanup())}};var I=L;function L(e,t,r){this.pageIndex=e,this.pageInfo=t,this.transport=r,this.stats=new f.StatTimer,this.stats.enabled=(0,p.getDefaultSetting)("enableStats"),this.commonObjs=r.commonObjs,this.objs=new U,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}c(O,[{key:"postMessage",value:function(t,l){var c,r,e=this;this._defer?(c=new WeakMap,r={data:function e(t){if("object"!==(void 0===t?"undefined":m(t))||null===t)return t;if(c.has(t))return c.get(t);var r,n,i,a;if((r=t.buffer)&&(0,f.isArrayBuffer)(r))return n=l&&0<=l.indexOf(r),i=t===r?t:n?new t.constructor(r,t.byteOffset,t.byteLength):new t.constructor(t),c.set(t,i),i;for(a in i=(0,f.isArray)(t)?[]:{},c.set(t,i),t){for(var s,o=t;!(s=Object.getOwnPropertyDescriptor(o,a));)o=Object.getPrototypeOf(o);void 0!==s.value&&"function"!=typeof s.value&&(i[a]=e(s.value))}return i}(t)},this._deferred.then(function(){e._listeners.forEach(function(e){e.call(this,r)},e)})):this._listeners.forEach(function(e){e.call(this,{data:t})},this)}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){t=this._listeners.indexOf(t);this._listeners.splice(t,1)}},{key:"terminate",value:function(){this._listeners=[]}}]);var D=O;function O(e){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}r=void(F=0),n=new WeakMap,i.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(e){this._port=e,this._messageHandler=new f.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var e,t=this;if(!l&&!(0,p.getDefaultSetting)("disableWorker")&&"undefined"!=typeof Worker){var r=M();try{(0,f.isSameOrigin)(window.location.href,r)||(e=new URL(r,window.location).href,r=URL.createObjectURL(new Blob(["importScripts('"+e+"');"])));var n=new Worker(r),i=new f.MessageHandler("main","worker",n),a=function(){n.removeEventListener("error",s),i.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},s=function(){t._webWorker||a()},o=(n.addEventListener("error",s),i.on("test",function(e){n.removeEventListener("error",s),t.destroyed?a():e&&e.supportTypedArray?(t._messageHandler=i,t._port=n,t._webWorker=n,e.supportTransfers||(t.postMessageTransfers=!1,y=!0),t._readyCapability.resolve(),i.send("configure",{verbosity:(0,f.getVerbosityLevel)()})):(t._setupFakeWorker(),i.destroy(),n.terminate())}),i.on("console_log",function(e){console.log.apply(console,e)}),i.on("console_error",function(e){console.error.apply(console,e)}),i.on("ready",function(e){if(n.removeEventListener("error",s),t.destroyed)a();else try{o()}catch(e){t._setupFakeWorker()}}),function(){var t=(0,p.getDefaultSetting)("postMessageTransfers")&&!y,t=new Uint8Array([t?255:0]);try{i.send("test",t,[t.buffer])}catch(e){(0,f.info)("Cannot use postMessage transfers"),t[0]=0,i.send("test",t)}});return void o()}catch(e){(0,f.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var i=this;l||(0,p.getDefaultSetting)("disableWorker")||((0,f.warn)("Setting up fake worker."),l=!0),r||(r=(0,f.createPromiseCapability)(),(w||function(e){f.Util.loadScript(M(),function(){e(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(r.resolve)),r.promise.then(function(e){var t,r,n;i.destroyed?i._readyCapability.reject(new Error("Worker was destroyed")):(t=Uint8Array!==Float32Array,t=new D(t),i._port=t,r="fake"+F++,n=new f.MessageHandler(r+"_worker",r,t),e.setup(n,t),e=new f.MessageHandler(r,r+"_worker",t),i._messageHandler=e,i._readyCapability.resolve())})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},i.fromPort=function(e){return n.has(e)?n.get(e):new i(null,e)};var F,r,n,N=i;function M(){if(void 0!==v)return v;if((0,p.getDefaultSetting)("workerSrc"))return(0,p.getDefaultSetting)("workerSrc");if(A)return A.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}function i(e,t){if(t&&n.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=(0,f.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return n.set(t,this),void this._initializeFromPort(t);this._initialize()}q.prototype={destroy:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,f.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[],r=(this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[],this.messageHandler.sendWithPromise("Terminate",null));return t.push(r),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var e=this.messageHandler,r=this.loadingTask;e.on("GetReader",function(e,r){var t=this;(0,f.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=function(){t._fullReader.read().then(function(e){var t=e.value;e.done?r.close():((0,f.assert)((0,f.isArrayBuffer)(t)),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){t._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(e){var r=this,t=(0,f.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then(function(){var e;n.isStreamingSupported&&n.isRangeSupported||(!r._lastProgress||(e=r.loadingTask).onProgress&&e.onProgress(r._lastProgress),n.onProgress=function(e){var t=r.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},t.reject),t.promise},this),e.on("GetRangeReader",function(e,r){(0,f.assert)(this._networkStream);var t=this._networkStream.getRangeReader(e.begin,e.end);r.onPull=function(){t.read().then(function(e){var t=e.value;e.done?r.close():((0,f.assert)((0,f.isArrayBuffer)(t)),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){t.cancel(e)}},this),e.on("GetDoc",function(e){var t=e.pdfInfo,e=(this.numPages=e.pdfInfo.numPages,this.loadingTask),t=new T(t,this,e);this.pdfDocument=t,e._capability.resolve(t)},this),e.on("PasswordRequest",function(e){var t=this;return this._passwordCapability=(0,f.createPromiseCapability)(),r.onPassword?r.onPassword(function(e){t._passwordCapability.resolve({password:e})},e.code):this._passwordCapability.reject(new f.PasswordException(e.message,e.code)),this._passwordCapability.promise},this),e.on("PasswordException",function(e){r._capability.reject(new f.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new f.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new f.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new f.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new f.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(e){},this),e.on("StartRenderPage",function(e){var t;this.destroyed||((t=this.pageCache[e.pageIndex]).stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent))},this),e.on("RenderPageChunk",function(e){this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var t=this;if(!this.destroyed){var r=e[0],n=e[1];if(!this.commonObjs.hasData(r))switch(n){case"Font":var i=e[2];if("error"in i){var a=i.error;(0,f.warn)("Error during font loading: "+a),this.commonObjs.resolve(r,a);break}var a=null,s=((0,p.getDefaultSetting)("pdfBug")&&f.globalScope.FontInspector&&f.globalScope.FontInspector.enabled&&(a={registerFont:function(e,t){f.globalScope.FontInspector.fontAdded(e,t)}}),new h.FontFaceObject(i,{isEvalSuported:(0,p.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,p.getDefaultSetting)("disableFontFace"),fontRegistry:a}));this.fontLoader.bind([s],function(e){t.commonObjs.resolve(r,s)});break;case"FontPath":this.commonObjs.resolve(r,e[2]);break;default:throw new Error("Got unknown common object type "+n)}}},this),e.on("obj",function(e){if(!this.destroyed){var t,r=e[0],n=e[1],i=e[2],a=this.pageCache[n];if(!a.objs.hasData(r))switch(i){case"JpegStream":t=e[3],(0,f.loadJpegStream)(r,t,a.objs);break;case"Image":t=e[3],a.objs.resolve(r,t);t&&"data"in t&&8e6<t.data.length&&(a.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+i)}}},this),e.on("DocProgress",function(e){var t;this.destroyed||(t=this.loadingTask).onProgress&&t.onProgress({loaded:e.loaded,total:e.total})},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!t.displayReadyCapability)throw new Error(e.error);if(t.displayReadyCapability.reject(e.error),t.operatorList){t.operatorList.lastChunk=!0;for(var r=0;r<t.renderTasks.length;r++)t.renderTasks[r].operatorListChanged()}}},this),e.on("UnsupportedFeature",function(e){var t;this.destroyed||(e=e.featureId,(t=this.loadingTask).onUnsupportedFeature&&t.onUnsupportedFeature(e),X.notify(e))},this),e.on("JpegDecode",function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var t=e[0],u=e[1];return 3!==u&&1!==u?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(l,e){var c=new Image;c.onload=function(){var e,t,r=c.width,n=c.height,i=r*n,a=4*i,s=new Uint8Array(i*u),i=document.createElement("canvas"),i=(i.width=r,i.height=n,i.getContext("2d")),o=(i.drawImage(c,0,0),i.getImageData(0,0,r,n).data);if(3===u)for(t=e=0;e<a;e+=4,t+=3)s[t]=o[e],s[t+1]=o[e+1],s[t+2]=o[e+2];else if(1===u)for(t=e=0;e<a;e+=4,t++)s[t]=o[e];l({data:s,width:r,height:n})},c.onerror=function(){e(new Error("JpegDecode failed to load image"))},c.src=t})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e,t){var r=this;if(!(0,f.isInt)(e)||e<=0||e>this.numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed)throw new Error("Transport destroyed");e=new I(n,e,r);return r.pageCache[n]=e});return this.pagePromises[n]=e},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})},getAnnotations:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new g.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var n=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,t=n.pageCache.length;e<t;e++){var r=n.pageCache[e];r&&r.cleanup()}n.commonObjs.clear(),n.fontLoader.clear()})}};var j=q;function q(e,t,r,n){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new U,this.fontLoader=new h.FontLoader(t.docId),this.CMapReaderFactory=new n({baseUrl:(0,p.getDefaultSetting)("cMapUrl"),isCompressed:(0,p.getDefaultSetting)("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,f.createPromiseCapability)(),this.setupMessageHandler()}W.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:(0,f.createPromiseCapability)(),data:null,resolved:!1};return this.objs[e]=t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;t=this.objs[e];if(!t||!t.resolved)throw new Error("Requesting object that isn't resolved yet "+e);return t.data},resolve:function(e,t){e=this.ensureObj(e);e.resolved=!0,e.data=t,e.capability.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs=Object.create(null)}};var U=W;function W(){this.objs=Object.create(null)}z.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}};var B=z;function z(e){this._internalRenderTask=e,this.onContinue=null}a=new WeakMap,H.prototype={initializeGraphics:function(e){if(this._canvas){if(a.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.set(this._canvas,this)}var t;this.cancelled||((0,p.getDefaultSetting)("pdfBug")&&f.globalScope.StepperManager&&f.globalScope.StepperManager.enabled&&(this.stepper=f.globalScope.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()),t=this.params,this.gfx=new d.CanvasGraphics(t.canvasContext,this.commonObjs,this.objs,this.canvasFactory,t.imageLayer),this.gfx.beginDrawing({transform:t.transform,viewport:t.viewport,transparency:e,background:t.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback())},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&a.delete(this._canvas),(0,p.getDefaultSetting)("pdfjsNext")?this.callback(new p.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.delete(this._canvas),this.callback())))}};var a,G=H;function H(e,t,r,n,i,a,s){this.callback=e,this.params=t,this.objs=r,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=i,this.pageNumber=a,this.canvasFactory=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,f.createPromiseCapability)(),this.task=new B(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}s=[];var s,X={listen:function(e){(0,f.deprecated)("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),s.push(e)},notify:function(e){for(var t=0,r=s.length;t<r;t++)s[t](e)}};e.version="1.9.426",e.build="2558a58d",e.getDocument=function(e,t,u,h){var r,n=new C;if(1<arguments.length&&(0,f.deprecated)("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),t&&(t instanceof k||((t=Object.create(t)).length=e.length,t.initialData=e.initialData,t.abort||(t.abort=function(){})),(e=Object.create(e)).range=t),n.onPassword=u||null,n.onProgress=h||null,"string"==typeof e)r={url:e};else if((0,f.isArrayBuffer)(e))r={data:e};else if(e instanceof k)r={range:e};else{if("object"!==(void 0===e?"undefined":m(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=e}var i,a={},s=null,o=null,l=p.DOMCMapReaderFactory;for(i in r)if("url"!==i||"undefined"==typeof window)if("range"!==i)if("worker"!==i)if("data"!==i||r[i]instanceof Uint8Array)"CMapReaderFactory"!==i?a[i]=r[i]:l=r[i];else{var c=r[i];if("string"==typeof c)a[i]=(0,f.stringToBytes)(c);else if("object"!==(void 0===c?"undefined":m(c))||null===c||isNaN(c.length)){if(!(0,f.isArrayBuffer)(c))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[i]=new Uint8Array(c)}else a[i]=new Uint8Array(c)}else o=r[i];else s=r[i];else a[i]=new URL(r[i],window.location).href;a.rangeChunkSize=a.rangeChunkSize||65536,a.ignoreErrors=!0!==a.stopAtErrors,void 0!==a.disableNativeImageDecoder&&(0,f.deprecated)("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),a.nativeImageDecoderSupport=a.nativeImageDecoderSupport||(!0===a.disableNativeImageDecoder?f.NativeImageDecoding.NONE:f.NativeImageDecoding.DECODE),a.nativeImageDecoderSupport!==f.NativeImageDecoding.DECODE&&a.nativeImageDecoderSupport!==f.NativeImageDecoding.NONE&&a.nativeImageDecoderSupport!==f.NativeImageDecoding.DISPLAY&&((0,f.warn)("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),a.nativeImageDecoderSupport=f.NativeImageDecoding.DECODE),o||(t=(0,p.getDefaultSetting)("workerPort"),o=t?N.fromPort(t):new N,n._worker=o);var d=n.docId;return o.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");return function(t,e,r,n){if(t.destroyed)return Promise.reject(new Error("Worker was destroyed"));e.disableAutoFetch=(0,p.getDefaultSetting)("disableAutoFetch"),e.disableStream=(0,p.getDefaultSetting)("disableStream"),e.chunkedViewerLoading=!!r,r&&(e.length=r.length,e.initialData=r.initialData);return t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:(0,p.getDefaultSetting)("maxImageSize"),disableFontFace:(0,p.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,p.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,p.getDefaultSetting)("postMessageTransfers")&&!y,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})}(o,a,s,d).then(function(e){if(n.destroyed)throw new Error("Loading aborted");var t=void 0,e=(s?t=new b.PDFDataTransportStream(a,s):a.data||(t=new _({source:a,disableRange:(0,p.getDefaultSetting)("disableRange")})),new f.MessageHandler(d,e,o.port)),t=(e.postMessageTransfers=o.postMessageTransfers,new j(e,n,t,l));n._transport=t,e.send("Ready",null)})}).catch(n._capability.reject),n},e.LoopbackPort=D,e.PDFDataRangeTransport=k,e.PDFWorker=N,e.PDFDocumentProxy=T,e.PDFPageProxy=I,e.setPDFNetworkStreamClass=function(e){_=e},e._UnsupportedManager=X,e.version="1.9.426",e.build="2558a58d"},function(u,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var o=t(1),l=t(0);function a(){}a.prototype={create:function(e){switch(e.data.annotationType){case l.AnnotationType.LINK:return new h(e);case l.AnnotationType.TEXT:return new d(e);case l.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new g(e);case"Btn":if(e.data.radioButton)return new y(e);if(e.data.checkBox)return new v(e);(0,l.warn)("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new S(e)}return new s(e);case l.AnnotationType.POPUP:return new C(e);case l.AnnotationType.LINE:return new T(e);case l.AnnotationType.HIGHLIGHT:return new I(e);case l.AnnotationType.UNDERLINE:return new D(e);case l.AnnotationType.SQUIGGLY:return new F(e);case l.AnnotationType.STRIKEOUT:return new M(e);case l.AnnotationType.FILEATTACHMENT:return new q(e);default:return new r(e)}}};n.prototype={_createContainer:function(e){var t=this.data,r=this.page,n=this.viewport,i=document.createElement("section"),a=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1],r=(i.setAttribute("data-annotation-id",t.id),l.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]));if(o.CustomStyle.setProp("transform",i,"matrix("+n.transform.join(",")+")"),o.CustomStyle.setProp("transformOrigin",i,-r[0]+"px "+-r[1]+"px"),!e&&0<t.borderStyle.width){i.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==l.AnnotationBorderStyleType.UNDERLINE&&(a-=2*t.borderStyle.width,s-=2*t.borderStyle.width);n=t.borderStyle.horizontalCornerRadius,e=t.borderStyle.verticalCornerRadius;switch((0<n||0<e)&&o.CustomStyle.setProp("borderRadius",i,n+"px / "+e+"px"),t.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=l.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=r[0]+"px",i.style.top=r[1]+"px",i.style.width=a+"px",i.style.height=s+"px",i},_createPopup:function(e,t,r){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));t=new k({container:e,trigger:t,color:r.color,title:r.title,contents:r.contents,hideWrapper:!0}).render();t.style.left=e.style.width,e.appendChild(t)},render:function(){throw new Error("Abstract method AnnotationElement.render called")}};var r=n;function n(e,t,r){this.isRenderable=t||!1,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,t&&(this.container=this._createContainer(r))}l.Util.inherit(i,r,{render:function(){this.container.className="linkAnnotation";var e=document.createElement("a");return(0,o.addLinkAttributes)(e,{url:this.data.url,target:this.data.newWindow?o.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(e,this.data.action):this._bindLink(e,this.data.dest)),this.container.appendChild(e),this.container},_bindLink:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.navigateTo(t),!1},t&&(e.className="internalLink")},_bindNamedAction:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}});var h=i;function i(e){r.call(this,e,!0)}l.Util.inherit(f,r,{render:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}});var d=f;function f(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t)}l.Util.inherit(p,r,{render:function(){return this.container}});var s=p;function p(e,t){r.call(this,e,t)}m=["left","center","right"],l.Util.inherit(b,s,{render:function(){this.container.className="textWidgetAnnotation";var e,t=null;return this.renderInteractiveForms?(this.data.multiLine?(t=document.createElement("textarea")).textContent=this.data.fieldValue:((t=document.createElement("input")).type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb&&(e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen,t.classList.add("comb"),t.style.letterSpacing="calc("+e+"px - 1ch)")):((t=document.createElement("div")).textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell",e=null,this.data.fontRefName&&(e=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(t,e)),null!==this.data.textAlignment&&(t.style.textAlign=m[this.data.textAlignment]),this.container.appendChild(t),this.container},_setTextStyle:function(e,t){var r,e=e.style;e.fontSize=this.data.fontSize+"px",e.direction=this.data.fontDirection<0?"rtl":"ltr",t&&(e.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",e.fontStyle=t.italic?"italic":"normal",r=t.loadedName?'"'+t.loadedName+'", ':"",t=t.fallbackName||"Helvetica, sans-serif",e.fontFamily=r+t)}});var m,g=b;function b(e){var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;s.call(this,e,t)}l.Util.inherit(_,s,{render:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}});var v=_;function _(e){s.call(this,e,e.renderInteractiveForms)}l.Util.inherit(A,s,{render:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}});var y=A;function A(e){s.call(this,e,e.renderInteractiveForms)}l.Util.inherit(w,s,{render:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,r=this.data.options.length;t<r;t++){var n=this.data.options[t],i=document.createElement("option");i.textContent=n.displayValue,i.value=n.exportValue,0<=this.data.fieldValue.indexOf(n.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}return this.container.appendChild(e),this.container}});var S=w;function w(e){s.call(this,e,e.renderInteractiveForms)}P=["Line"],l.Util.inherit(R,r,{render:function(){if(this.container.className="popupAnnotation",0<=P.indexOf(this.data.parentType))return this.container;var e='[data-annotation-id="'+this.data.parentId+'"]',e=this.layer.querySelector(e);if(!e)return this.container;var t=new k({container:this.container,trigger:e,color:this.data.color,title:this.data.title,contents:this.data.contents}),r=parseFloat(e.style.left),n=parseFloat(e.style.width);return o.CustomStyle.setProp("transformOrigin",this.container,-(r+n)+"px -"+e.style.top),this.container.style.left=r+n+"px",this.container.appendChild(t.render()),this.container}});var P,C=R;function R(e){var t=!(!e.data.title&&!e.data.contents);r.call(this,e,t)}x.prototype={render:function(){var e=document.createElement("div"),t=(e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0),document.createElement("div")),r=(t.className="popup",this.color),n=(r&&(n=.7*(255-r[0])+r[0],i=.7*(255-r[1])+r[1],r=.7*(255-r[2])+r[2],t.style.backgroundColor=l.Util.makeCssRgb(0|n,0|i,0|r)),this._formatContents(this.contents)),i=document.createElement("h1");return i.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(i),t.appendChild(n),e.appendChild(t),e},_formatContents:function(e){for(var t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/),n=0,i=r.length;n<i;++n){var a=r[n];t.appendChild(document.createTextNode(a)),n<i-1&&t.appendChild(document.createElement("br"))}return t},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(e){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(e){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}};var k=x;function x(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}c="http://www.w3.org/2000/svg",l.Util.inherit(E,r,{render:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=document.createElementNS(c,"svg:svg"),t=(n.setAttributeNS(null,"version","1.1"),n.setAttributeNS(null,"width",t+"px"),n.setAttributeNS(null,"height",r+"px"),n.setAttributeNS(null,"preserveAspectRatio","none"),n.setAttributeNS(null,"viewBox","0 0 "+t+" "+r),document.createElementNS(c,"svg:line"));return t.setAttributeNS(null,"x1",e.rect[2]-e.lineCoordinates[0]),t.setAttributeNS(null,"y1",e.rect[3]-e.lineCoordinates[1]),t.setAttributeNS(null,"x2",e.rect[2]-e.lineCoordinates[2]),t.setAttributeNS(null,"y2",e.rect[3]-e.lineCoordinates[3]),t.setAttributeNS(null,"stroke-width",e.borderStyle.width),t.setAttributeNS(null,"stroke","transparent"),n.appendChild(t),this.container.append(n),this._createPopup(this.container,t,this.data),this.container}});var c,T=E;function E(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}l.Util.inherit(L,r,{render:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}});var I=L;function L(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}l.Util.inherit(O,r,{render:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}});var D=O;function O(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}l.Util.inherit(N,r,{render:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}});var F=N;function N(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}l.Util.inherit(j,r,{render:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}});var M=j;function j(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}l.Util.inherit(U,r,{render:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container},_download:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,l.warn)("Download cannot be started due to unavailable download manager")}});var q=U;function U(e){r.call(this,e,!0);e=this.data.file;this.filename=(0,o.getFilenameFromUrl)(e.filename),this.content=e.content,this.linkService.onFileAttachmentAnnotation({id:(0,l.stringToPDFString)(e.filename),filename:e.filename,content:e.content})}e.AnnotationLayer={render:function(e){for(var t=new a,r=0,n=e.annotations.length;r<n;r++){var i=e.annotations[r];i&&((i=t.create({data:i,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||(0,o.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:e.renderInteractiveForms||!1})).isRenderable&&e.div.appendChild(i.render()))}},update:function(e){for(var t=0,r=e.annotations.length;t<r;t++){var n=e.annotations[t],n=e.div.querySelector('[data-annotation-id="'+n.id+'"]');n&&o.CustomStyle.setProp("transform",n,"matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}}},function(s,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var h,a,t,r,i,l,_=o(0),b="normal",v="normal",y="#000000",c=function(){for(var g=new Uint8Array([137,80,78,71,13,10,26,10]),s=new Int32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;s[e]=t}function b(e,t,r,n){var i=n,a=t.length,a=(r[i]=a>>24&255,r[i+1]=a>>16&255,r[i+2]=a>>8&255,r[i+3]=255&a,r[i+=4]=255&e.charCodeAt(0),r[i+1]=255&e.charCodeAt(1),r[i+2]=255&e.charCodeAt(2),r[i+3]=255&e.charCodeAt(3),r.set(t,i+=4),function(e,t,r){for(var n=-1,i=t;i<r;i++)var a=255&(n^e[i]),n=n>>>8^s[a];return-1^n}(r,n+4,i+=t.length));r[i]=a>>24&255,r[i+1]=a>>16&255,r[i+2]=a>>8&255,r[i+3]=255&a}function v(e){for(var t=e.length,r=65535,n=Math.ceil(t/r),i=new Uint8Array(2+t+5*n+4),a=0,s=(i[a++]=120,i[a++]=156,0);r<t;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(s,s+r),a),a+=r,s+=r,t-=r;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(s),a),a+=e.length-s;n=function(e,t,r){for(var n=1,i=0,a=t;a<r;++a)i=(i+(n=(n+(255&e[a]))%65521))%65521;return i<<16|n}(e,0,e.length);return i[a++]=n>>24&255,i[a++]=n>>16&255,i[a++]=n>>8&255,i[a++]=255&n,i}function n(e,t,u){var r,n,i,a=e.width,s=e.height,h=e.data;switch(t){case _.ImageKind.GRAYSCALE_1BPP:n=0,r=1,i=a+7>>3;break;case _.ImageKind.RGB_24BPP:n=2,r=8,i=3*a;break;case _.ImageKind.RGBA_32BPP:n=6,r=8,i=4*a;break;default:throw new Error("invalid format")}for(var d,f=new Uint8Array((1+i)*s),o=0,p=0,l=0;l<s;++l)f[o++]=0,f.set(h.subarray(p,p+i),o),p+=i,o+=i;if(t===_.ImageKind.GRAYSCALE_1BPP)for(l=o=0;l<s;l++)for(o++,d=0;d<i;d++)f[o++]^=255;var e=new Uint8Array([a>>24&255,a>>16&255,a>>8&255,255&a,s>>24&255,s>>16&255,s>>8&255,255&s,r,n,0,0,0]),t=function(e){if(!(0,_.isNodeJS)())return v(e);try{var t=8<=parseInt(process.versions.node)?e:new Buffer(e),r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return v(e)}(f),c=g.length+36+e.length+t.length,c=new Uint8Array(c),m=0;return c.set(g,0),b("IHDR",e,c,m+=g.length),b("IDATA",t,c,m+=12+e.length),m+=12+t.length,b("IEND",new Uint8Array(0),c,m),(0,_.createObjectURL)(c,"image/png",u)}return function(e,t){return n(e,void 0===e.kind?_.ImageKind.GRAYSCALE_1BPP:e.kind,t)}}(),u=(d.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},d);function m(e){if(e===(0|e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;for(;"0"===t[--r];);return t.substr(0,"."===t[r]?r:r+1)}function g(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+m(e[0])+" "+m(e[3])+")";if(e[0]===e[3]&&e[1]===-e[2])return"rotate("+m(180*Math.acos(e[0])/Math.PI)+")"}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+m(e[4])+" "+m(e[5])+")";return"matrix("+m(e[0])+" "+m(e[1])+" "+m(e[2])+" "+m(e[3])+" "+m(e[4])+" "+m(e[5])+")"}function n(e,t,r){this.current=new u,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r}function d(){this.fontSizeScale=1,this.fontWeight=v,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}e.SVGGraphics=(h="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink",t=["butt","round","square"],r=["miter","round","bevel"],l=i=0,n.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,r=e.fnArray,n=r.length,i=e.argsArray,a=0;a<n;a++)if(_.OPS.dependency===r[a])for(var s=i[a],o=0,l=s.length;o<l;o++){var c=s[o],u="g_"===c.substring(0,2)?new Promise(function(e){t.commonObjs.get(c,e)}):new Promise(function(e){t.objs.get(c,e)});this.current.dependencies.push(u)}return Promise.all(this.current.dependencies)},transform:function(e,t,r,n,i,a){this.transformMatrix=_.Util.transform(this.transformMatrix,[e,t,r,n,i,a]),this.tgrp=null},getSVG:function(t,e){var r=this,n=(this.viewport=e,this._initialize(e));return this.loadDependencies(t).then(function(){r.transformMatrix=_.IDENTITY_MATRIX;var e=r.convertOpList(t);return r.executeOpTree(e),n})},convertOpList:function(e){var t,u=e.argsArray,r=e.fnArray,h=r.length,n=[],i=[];for(t in _.OPS)n[_.OPS[t]]=t;for(var a=0;a<h;a++){var s=r[a];i.push({fnId:s,fn:n[s],args:u[a]})}for(var o=i,l=[],d=[],f=o.length,c=0;c<f;c++)"save"!==o[c].fn?"restore"===o[c].fn?l=d.pop():l.push(o[c]):(l.push({fnId:92,fn:"group",items:[]}),d.push(l),l=l[l.length-1].items);return l},executeOpTree:function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r].fn,i=e[r].fnId,a=e[r].args;switch(0|i){case _.OPS.beginText:this.beginText();break;case _.OPS.setLeading:this.setLeading(a);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case _.OPS.setFont:this.setFont(a);break;case _.OPS.showText:case _.OPS.showSpacedText:this.showText(a[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(a[0],a[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case _.OPS.setHScale:this.setHScale(a[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case _.OPS.setLineWidth:this.setLineWidth(a[0]);break;case _.OPS.setLineJoin:this.setLineJoin(a[0]);break;case _.OPS.setLineCap:this.setLineCap(a[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case _.OPS.setDash:this.setDash(a[0],a[1]);break;case _.OPS.setGState:this.setGState(a[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintJpegXObject:this.paintJpegXObject(a[0],a[1],a[2]);break;case _.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case _.OPS.constructPath:this.constructPath(a[0],a[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(e[r].items);break;default:(0,_.warn)("Unimplemented operator "+n)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(e,t,r,n,i,a){var s=this.current;this.current.textMatrix=this.current.lineMatrix=[e,t,r,n,i,a],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,s.xcoords=[],s.tspan=document.createElementNS(h,"svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",m(s.fontSize)+"px"),s.tspan.setAttributeNS(null,"y",m(-s.y)),s.txtElement=document.createElementNS(h,"svg:text"),s.txtElement.appendChild(s.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=_.IDENTITY_MATRIX,this.current.lineMatrix=_.IDENTITY_MATRIX,this.current.tspan=document.createElementNS(h,"svg:tspan"),this.current.txtElement=document.createElementNS(h,"svg:text"),this.current.txtgrp=document.createElementNS(h,"svg:g"),this.current.xcoords=[]},moveText:function(e,t){var r=this.current;this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t,r.xcoords=[],r.tspan=document.createElementNS(h,"svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",m(r.fontSize)+"px"),r.tspan.setAttributeNS(null,"y",m(-r.y))},showText:function(e){var t=this.current,r=t.font,n=t.fontSize;if(0!==n){for(var u=t.charSpacing,i=t.wordSpacing,a=t.fontDirection,s=t.textHScale*a,h=e.length,r=r.vertical,d=n*t.fontMatrix[0],o=0,l=0;l<h;++l){var f,p,c=e[l];null!==c?(0,_.isNum)(c)?o+=-c*n*.001:(t.xcoords.push(t.x+o*s),f=c.width,p=c.fontChar,o+=f*d+((c.isSpace?i:0)+u)*a,t.tspan.textContent+=p):o+=a*i}r?t.y-=o*s:t.x+=o*s,t.tspan.setAttributeNS(null,"x",t.xcoords.map(m).join(" ")),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",m(t.fontSize)+"px"),t.fontStyle!==b&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==v&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight),t.fillColor!==y&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.txtElement.setAttributeNS(null,"transform",g(t.textMatrix)+" scale(1, -1)"),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(h,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,_.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(e){var t=this.current,r=this.commonObjs.get(e[0]),e=e[1],n=(this.current.font=r,this.embedFonts&&r.data&&!this.embeddedFonts[r.loadedName]&&(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||_.FONT_IDENTITY_MATRIX,r.black?r.bold?"bolder":"bold":r.bold?"bold":"normal"),i=r.italic?"italic":"normal";e<0?(e=-e,t.fontDirection=-1):t.fontDirection=1,t.fontSize=e,t.fontFamily=r.loadedName,t.fontWeight=n,t.fontStyle=i,t.tspan=document.createElementNS(h,"svg:tspan"),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.xcoords=[]},endText:function(){},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=t[e]},setLineJoin:function(e){this.current.lineJoin=r[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,r){e=_.Util.makeCssRgb(e,t,r);this.current.strokeColor=e},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,r){e=_.Util.makeCssRgb(e,t,r);this.current.fillColor=e,this.current.tspan=document.createElementNS(h,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(e,t){for(var r=this.current,n=r.x,i=r.y,a=(r.path=document.createElementNS(h,"svg:path"),[]),u=e.length,s=0,o=0;s<u;s++)switch(0|e[s]){case _.OPS.rectangle:var n=t[o++],i=t[o++],l=n+t[o++],c=i+t[o++];a.push("M",m(n),m(i),"L",m(l),m(i),"L",m(l),m(c),"L",m(n),m(c),"Z");break;case _.OPS.moveTo:n=t[o++],i=t[o++],a.push("M",m(n),m(i));break;case _.OPS.lineTo:n=t[o++],i=t[o++],a.push("L",m(n),m(i));break;case _.OPS.curveTo:n=t[o+4],i=t[o+5],a.push("C",m(t[o]),m(t[o+1]),m(t[o+2]),m(t[o+3]),m(n),m(i)),o+=6;break;case _.OPS.curveTo2:n=t[o+2],i=t[o+3],a.push("C",m(n),m(i),m(t[o]),m(t[o+1]),m(t[o+2]),m(t[o+3])),o+=4;break;case _.OPS.curveTo3:n=t[o+2],i=t[o+3],a.push("C",m(t[o]),m(t[o+1]),m(n),m(i),m(n),m(i)),o+=4;break;case _.OPS.closePath:a.push("Z")}r.path.setAttributeNS(null,"d",a.join(" ")),r.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(r.path),r.element=r.path,r.setCurrentPoint(n,i)},endPath:function(){var e,t,r,n;this.pendingClip&&(e=this.current,t="clippath"+i,i++,(r=document.createElementNS(h,"svg:clipPath")).setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",g(this.transformMatrix)),n=e.element.cloneNode(),"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null})),e.activeClipUrl="url(#"+t+")",this.tgrp=null)},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");e.path.setAttributeNS(null,"d",t+="Z")},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],i=n[0],a=n[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,_.warn)("Unimplemented graphic state "+i)}}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha)},stroke:function(){var e=this.current;e.element.setAttributeNS(null,"stroke",e.strokeColor),e.element.setAttributeNS(null,"stroke-opacity",e.strokeAlpha),e.element.setAttributeNS(null,"stroke-miterlimit",m(e.miterLimit)),e.element.setAttributeNS(null,"stroke-linecap",e.lineCap),e.element.setAttributeNS(null,"stroke-linejoin",e.lineJoin),e.element.setAttributeNS(null,"stroke-width",m(e.lineWidth)+"px"),e.element.setAttributeNS(null,"stroke-dasharray",e.dashArray.map(m).join(" ")),e.element.setAttributeNS(null,"stroke-dashoffset",m(e.dashPhase)+"px"),e.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(h,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(e,t,r){var e=this.objs.get(e),n=document.createElementNS(h,"svg:image");n.setAttributeNS(a,"xlink:href",e.src),n.setAttributeNS(null,"width",m(t)),n.setAttributeNS(null,"height",m(r)),n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y",m(-r)),n.setAttributeNS(null,"transform","scale("+m(1/t)+" "+m(-1/r)+")"),this._ensureTransformGroup().appendChild(n)},paintImageXObject:function(e){e=this.objs.get(e);e?this.paintInlineImageXObject(e):(0,_.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e,t){var r=e.width,n=e.height,e=c(e,this.forceDataSchema),i=document.createElementNS(h,"svg:rect"),i=(i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",m(r)),i.setAttributeNS(null,"height",m(n)),this.current.element=i,this.clip("nonzero"),document.createElementNS(h,"svg:image"));i.setAttributeNS(a,"xlink:href",e),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",m(-n)),i.setAttributeNS(null,"width",m(r)+"px"),i.setAttributeNS(null,"height",m(n)+"px"),i.setAttributeNS(null,"transform","scale("+m(1/r)+" "+m(-1/n)+")"),(t||this._ensureTransformGroup()).appendChild(i)},paintImageMaskXObject:function(e){var t=this.current,r=e.width,n=e.height,i=t.fillColor,a=(t.maskId="mask"+l++,document.createElementNS(h,"svg:mask")),s=(a.setAttributeNS(null,"id",t.maskId),document.createElementNS(h,"svg:rect"));s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",m(r)),s.setAttributeNS(null,"height",m(n)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask","url(#"+t.maskId+")"),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(e,a)},paintFormXObjectBegin:function(e,t){var r,n;(0,_.isArray)(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),(0,_.isArray)(t)&&4===t.length&&(e=t[2]-t[0],r=t[3]-t[1],(n=document.createElementNS(h,"svg:rect")).setAttributeNS(null,"x",t[0]),n.setAttributeNS(null,"y",t[1]),n.setAttributeNS(null,"width",m(e)),n.setAttributeNS(null,"height",m(r)),this.current.element=n,this.clip("nonzero"),this.endPath())},paintFormXObjectEnd:function(){},_initialize:function(e){var t=document.createElementNS(h,"svg:svg"),r=(t.setAttributeNS(null,"version","1.1"),t.setAttributeNS(null,"width",e.width+"px"),t.setAttributeNS(null,"height",e.height+"px"),t.setAttributeNS(null,"preserveAspectRatio","none"),t.setAttributeNS(null,"viewBox","0 0 "+e.width+" "+e.height),document.createElementNS(h,"svg:defs")),r=(t.appendChild(r),this.defs=r,document.createElementNS(h,"svg:g"));return r.setAttributeNS(null,"transform",g(e.transform)),t.appendChild(r),this.svg=r,t},_ensureClipGroup:function(){var e;return this.current.clipGroup||((e=document.createElementNS(h,"svg:g")).setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e),this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=document.createElementNS(h,"svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),(this.current.activeClipUrl?this._ensureClipGroup():this.svg).appendChild(this.tgrp)),this.tgrp}},n),e.SVGGraphics=n},function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=void 0;function r(e){var t=new n({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}var h,d,v=t(0),f=t(1);h=/\S/,d=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"],n.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new v.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,t){for(var r=0,n=e.length;r<n;r++)this._textContentItemsStr.push(e[r].str),a(this,e[r],t)},_layoutText:function(e){var t,r,n=this._container,i=this._textDivProperties.get(e);i.isWhitespace||(t=e.style.fontSize,r=e.style.fontFamily,t===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=t+" "+r,this._lastFontSize=t,this._lastFontFamily=r),t=this._layoutTextCtx.measureText(e.textContent).width,r="",0!==i.canvasWidth&&0<t&&(i.scale=i.canvasWidth/t,r="scaleX("+i.scale+")"),""!==(r=0!==i.angle?"rotate("+i.angle+"deg) "+r:r)&&(i.originalTransform=r,f.CustomStyle.setProp("transform",e,r)),this._textDivProperties.set(e,i),n.appendChild(e))},_render:function(e){var n=this,i=(0,v.createPromiseCapability)(),a=Object.create(null),t=document.createElement("canvas");if(t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent){var t=this._textContent.items,r=this._textContent.styles;this._processItems(t,r),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');t=function r(){n._reader.read().then(function(e){var t=e.value;e.done?i.resolve():(v.Util.extendObj(a,t.styles),n._processItems(t.items,a),r())},i.reject)};this._reader=this._textContentStream.getReader(),t()}i.promise.then(function(){a=null,e?n._renderTimer=setTimeout(function(){s(n),n._renderTimer=null},e):s(n)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(o(this),this._bounds=null);for(var t=0,r=this._textDivs.length;t<r;t++){var n,i,a=this._textDivs[t],s=this._textDivProperties.get(a);s.isWhitespace||(e?(i=n="",1!==s.scale&&(n="scaleX("+s.scale+")"),0!==s.angle&&(n="rotate("+s.angle+"deg) "+n),0!==s.paddingLeft&&(i+=" padding-left: "+s.paddingLeft/s.scale+"px;",n+=" translateX("+-s.paddingLeft/s.scale+"px)"),0!==s.paddingTop&&(i+=" padding-top: "+s.paddingTop+"px;",n+=" translateY("+-s.paddingTop+"px)"),0!==s.paddingRight&&(i+=" padding-right: "+s.paddingRight/s.scale+"px;"),0!==s.paddingBottom&&(i+=" padding-bottom: "+s.paddingBottom+"px;"),""!==i&&a.setAttribute("style",s.style+i),""!==n&&f.CustomStyle.setProp("transform",a,n)):(a.style.padding=0,f.CustomStyle.setProp("transform",a,s.originalTransform||"")))}}}};function a(e,t,r){var n=document.createElement("div"),i={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(n),s=t.str,!h.test(s))return i.isWhitespace=!0,void e._textDivProperties.set(n,i);var a,u,s=v.Util.transform(e._viewport.transform,t.transform),o=Math.atan2(s[1],s[0]),r=r[t.fontName],l=(r.vertical&&(o+=Math.PI/2),Math.sqrt(s[2]*s[2]+s[3]*s[3])),c=l;r.ascent?c=r.ascent*c:r.descent&&(c=(1+r.descent)*c),s=0===o?(a=s[4],s[5]-c):(a=s[4]+c*Math.sin(o),s[5]-c*Math.cos(o)),d[1]=a,d[3]=s,d[5]=l,d[7]=r.fontFamily,i.style=d.join(""),n.setAttribute("style",i.style),n.textContent=t.str,(0,f.getDefaultSetting)("pdfBug")&&(n.dataset.fontName=t.fontName),0!==o&&(i.angle=o*(180/Math.PI)),1<t.str.length&&(r.vertical?i.canvasWidth=t.height*e._viewport.scale:i.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(n,i),e._textContentStream&&e._layoutText(n),e._enhanceTextSelection&&(c=1,(i=0)!==o&&(c=Math.cos(o),i=Math.sin(o)),r=(r.vertical?t.height:t.width)*e._viewport.scale,t=l,l=0!==o?v.Util.getAxialAlignedBoundingBox([0,0,r,t],u=[c,i,-i,c,a,s]):[a,s,a+r,s+t],e._bounds.push({left:l[0],top:l[1],right:l[2],bottom:l[3],div:n,size:[r,t],m:u}))}function s(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(1e5<n)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var i=0;i<n;i++)e._layoutText(t[i]);e._renderingDone=!0,r.resolve()}}function o(u){for(var h,d,i,a,e=u._bounds,f=u._viewport,p=(h=f.width,f=f.height,i=(d=e).map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}),_(h,i),a=new Array(d.length),i.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),d.map(function(e,t){var r=a[t],n=i[t];n.x1=e.top,n.y1=h-r.right,n.x2=e.bottom,n.y2=h-r.left,n.index=t,n.x1New=void 0,n.x2New=void 0}),_(f,i),i.forEach(function(e){var t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New}),a),t=0;t<p.length;t++){var r,m,n,s,o,l,g,b=e[t].div,c=u._textDivProperties.get(b);0!==c.angle?(r=p[t],l=e[t],m=l.m,n=m[0],s=m[1],l=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],o=new Float64Array(64),l=(l.forEach(function(e,t){e=v.Util.applyTransform(e,m);o[t+0]=n&&(r.left-e[0])/n,o[t+4]=s&&(r.top-e[1])/s,o[t+8]=n&&(r.right-e[0])/n,o[t+12]=s&&(r.bottom-e[1])/s,o[t+16]=s&&(r.left-e[0])/-s,o[t+20]=n&&(r.top-e[1])/n,o[t+24]=s&&(r.right-e[0])/-s,o[t+28]=n&&(r.bottom-e[1])/n,o[t+32]=n&&(r.left-e[0])/-n,o[t+36]=s&&(r.top-e[1])/-s,o[t+40]=n&&(r.right-e[0])/-n,o[t+44]=s&&(r.bottom-e[1])/-s,o[t+48]=s&&(r.left-e[0])/s,o[t+52]=n&&(r.top-e[1])/-n,o[t+56]=s&&(r.right-e[0])/s,o[t+60]=n&&(r.bottom-e[1])/-n}),function(e,t,r){for(var n=0,i=0;i<r;i++){var a=e[t++];0<a&&(n=n?Math.min(a,n):a)}return n}),g=1+Math.min(Math.abs(n),Math.abs(s)),c.paddingLeft=l(o,32,16)/g,c.paddingTop=l(o,48,16)/g,c.paddingRight=l(o,0,16)/g,c.paddingBottom=l(o,16,16)/g,u._textDivProperties.set(b,c)):(c.paddingLeft=e[t].left-p[t].left,c.paddingTop=e[t].top-p[t].top,c.paddingRight=p[t].right-e[t].right,c.paddingBottom=p[t].bottom-e[t].bottom,u._textDivProperties.set(b,c))}}function _(t,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var f=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach(function(e){for(var t=0;t<f.length&&f[t].end<=e.y1;)t++;for(var r=f.length-1;0<=r&&f[r].start>=e.y2;)r--;for(var n=-1/0,i=t;i<=r;i++){var a,s,u=(s=(a=f[i]).boundary).x2>e.x1?s.index>e.index?s.x1New:e.x1:void 0===s.x2New?(s.x2+e.x1)/2:s.x2New;n<u&&(n=u)}for(e.x1New=n,i=t;i<=r;i++)void 0===(s=(a=f[i]).boundary).x2New?s.x2>e.x1?s.index>e.index&&(s.x2New=s.x2):s.x2New=n:s.x2New>n&&(s.x2New=Math.max(n,s.x2));var o=[],h=null;for(i=t;i<=r;i++){var d=(s=(a=f[i]).boundary).x2>e.x2?s:e;h===d?o[o.length-1].end=a.end:(o.push({start:a.start,end:a.end,boundary:d}),h=d)}for(f[t].start<e.y1&&(o[0].start=e.y1,o.unshift({start:f[t].start,end:e.y1,boundary:f[t].boundary})),e.y2<f[r].end&&(o[o.length-1].end=e.y2,o.push({start:e.y2,end:f[r].end,boundary:f[r].boundary})),i=t;i<=r;i++)if(void 0===(s=(a=f[i]).boundary).x2New){for(var l=!1,c=t-1;!l&&0<=c&&f[c].start>=s.y1;c--)l=f[c].boundary===s;for(c=r+1;!l&&c<f.length&&f[c].end<=s.y2;c++)l=f[c].boundary===s;for(c=0;!l&&c<o.length;c++)l=o[c].boundary===s;l||(s.x2New=n)}Array.prototype.splice.apply(f,[t,r-t+1].concat(o))}),f.forEach(function(e){e=e.boundary;void 0===e.x2New&&(e.x2New=Math.max(t,e.x2))})}function n(e){var t=e.textContent,r=e.textContentStream,n=e.container,i=e.viewport,a=e.textDivs,s=e.textContentItemsStr,e=e.enhanceTextSelection;this._textContent=t,this._textContentStream=r,this._container=n,this._viewport=i,this._textDivs=a||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!e,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,v.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}e.renderTextLayer=r},function(e,t,r){"use strict";function n(e){if("string"==typeof e)e=e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var r=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,r,n){return String.fromCharCode(64*t+8*r+ +n)}),n="",i=0;i<r.length;i+=2){var a=256*r.charCodeAt(i)+r.charCodeAt(i+1);n+=32<=a&&a<127&&60!==a&&62!==a&&38!==a?String.fromCharCode(a):"&#x"+(65536+a).toString(16).substring(1)+";"}return">"+n}),e=(new DOMParser).parseFromString(e,"application/xml");else if(!(e instanceof Document))throw new Error("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata=Object.create(null),this.parse()}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype={parse:function(){var e=this.metaDocument.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var t=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===t&&e.hasChildNodes())for(var r,n,i,a,s,o=e.childNodes,l=0,c=o.length;l<c;l++)if("rdf:description"===(r=o[l]).nodeName.toLowerCase())for(a=0,s=r.childNodes.length;a<s;a++)"#text"!==r.childNodes[a].nodeName.toLowerCase()&&(i=(n=r.childNodes[a]).nodeName.toLowerCase(),this.metadata[i]=n.textContent.trim())},get:function(e){return this.metadata[e]||null},has:function(e){return void 0!==this.metadata[e]}},t.Metadata=n},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLUtils=void 0;var x,T,h,d,f,E,D,I,n=t(1),i=t(0),t=(h="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",d="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",E="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",D="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",I=f=null,{get isEnabled(){if((0,n.getDefaultSetting)("disableWebGL"))return!1;var e=!1;try{L(),e=!!x}catch(e){}return(0,i.shadow)(this,"isEnabled",e)},composeSMask:function(e,u,t){var r=e.width,n=e.height,i=(f||(L(),a=T,o=x,x=T=null,l=O(o,h),l=N(o,[l,F(o,d)]),o.useProgram(l),(c={}).gl=o,c.canvas=a,c.resolutionLocation=o.getUniformLocation(l,"u_resolution"),c.positionLocation=o.getAttribLocation(l,"a_position"),c.backdropLocation=o.getUniformLocation(l,"u_backdrop"),c.subtypeLocation=o.getUniformLocation(l,"u_subtype"),a=o.getAttribLocation(l,"a_texCoord"),s=o.getUniformLocation(l,"u_image"),l=o.getUniformLocation(l,"u_mask"),i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW),o.enableVertexAttribArray(a),o.vertexAttribPointer(a,2,o.FLOAT,!1,0,0),o.uniform1i(s,0),o.uniform1i(l,1),f=c),f),a=i.canvas,s=i.gl,o=(a.width=r,a.height=n,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(i.resolutionLocation,r,n),t.backdrop?s.uniform4f(i.resolutionLocation,t.backdrop[0],t.backdrop[1],t.backdrop[2],1):s.uniform4f(i.resolutionLocation,0,0,0,0),s.uniform1i(i.subtypeLocation,"Luminosity"===t.subtype?1:0),p(s,e,s.TEXTURE0)),l=p(s,u,s.TEXTURE1),c=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,c),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,n,0,n,r,0,r,n]),s.STATIC_DRAW),s.enableVertexAttribArray(i.positionLocation),s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,!1,0,0),s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLES,0,6),s.flush(),s.deleteTexture(o),s.deleteTexture(l),s.deleteBuffer(c),a},drawFigures:function(u,h,d,f,p){I||(L(),m=T,e=x,x=T=null,t=O(e,E),t=N(e,[t,F(e,D)]),e.useProgram(t),(k={}).gl=e,k.canvas=m,k.resolutionLocation=e.getUniformLocation(t,"u_resolution"),k.scaleLocation=e.getUniformLocation(t,"u_scale"),k.offsetLocation=e.getUniformLocation(t,"u_offset"),k.positionLocation=e.getAttribLocation(t,"a_position"),k.colorLocation=e.getAttribLocation(t,"a_color"),I=k);for(var m=I,e=m.canvas,t=m.gl,g=(e.width=u,e.height=h,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.uniform2f(m.resolutionLocation,u,h),0),b=0,v=f.length;b<v;b++)switch(f[b].type){case"lattice":g+=((S=f[b].coords.length/f[b].verticesPerRow|0)-1)*(f[b].verticesPerRow-1)*6;break;case"triangles":g+=f[b].coords.length}var r=new Float32Array(2*g),n=new Uint8Array(3*g),_=p.coords,i=p.colors,a=0,s=0;for(b=0,v=f.length;b<v;b++){var y=f[b],A=y.coords,o=y.colors;switch(y.type){case"lattice":for(var l=y.verticesPerRow,S=A.length/l|0,w=1;w<S;w++)for(var c=w*l+1,P=1;P<l;P++,c++)r[a]=_[A[c-l-1]],r[a+1]=_[A[c-l-1]+1],r[a+2]=_[A[c-l]],r[a+3]=_[A[c-l]+1],r[a+4]=_[A[c-1]],r[a+5]=_[A[c-1]+1],n[s]=i[o[c-l-1]],n[s+1]=i[o[c-l-1]+1],n[s+2]=i[o[c-l-1]+2],n[s+3]=i[o[c-l]],n[s+4]=i[o[c-l]+1],n[s+5]=i[o[c-l]+2],n[s+6]=i[o[c-1]],n[s+7]=i[o[c-1]+1],n[s+8]=i[o[c-1]+2],r[a+6]=r[a+2],r[a+7]=r[a+3],r[a+8]=r[a+4],r[a+9]=r[a+5],r[a+10]=_[A[c]],r[a+11]=_[A[c]+1],n[s+9]=n[s+3],n[s+10]=n[s+4],n[s+11]=n[s+5],n[s+12]=n[s+6],n[s+13]=n[s+7],n[s+14]=n[s+8],n[s+15]=i[o[c]],n[s+16]=i[o[c]+1],n[s+17]=i[o[c]+2],a+=12,s+=18;break;case"triangles":for(var C=0,R=A.length;C<R;C++)r[a]=_[A[C]],r[a+1]=_[A[C]+1],n[s]=i[o[C]],n[s+1]=i[o[C]+1],n[s+2]=i[o[C]+2],a+=2,s+=3}}d?t.clearColor(d[0]/255,d[1]/255,d[2]/255,1):t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT);var k=t.createBuffer(),u=(t.bindBuffer(t.ARRAY_BUFFER,k),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.enableVertexAttribArray(m.positionLocation),t.vertexAttribPointer(m.positionLocation,2,t.FLOAT,!1,0,0),t.createBuffer());return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.enableVertexAttribArray(m.colorLocation),t.vertexAttribPointer(m.colorLocation,3,t.UNSIGNED_BYTE,!1,0,0),t.uniform2f(m.scaleLocation,p.scaleX,p.scaleY),t.uniform2f(m.offsetLocation,p.offsetX,p.offsetY),t.drawArrays(t.TRIANGLES,0,g),t.flush(),t.deleteBuffer(k),t.deleteBuffer(u),e},clear:function(){f&&f.canvas&&(f.canvas.width=0,f.canvas.height=0),I&&I.canvas&&(I.canvas.width=0,I.canvas.height=0),I=f=null}});function a(e,t,r){r=e.createShader(r);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw t=e.getShaderInfoLog(r),new Error("Error during shader compilation: "+t);return r}function O(e,t){return a(e,t,e.VERTEX_SHADER)}function F(e,t){return a(e,t,e.FRAGMENT_SHADER)}function N(e,t){for(var r,n=e.createProgram(),i=0,a=t.length;i<a;++i)e.attachShader(n,t[i]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw r=e.getProgramInfoLog(n),new Error("Error during program linking: "+r);return n}function p(e,t,r){e.activeTexture(r);r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}function L(){x||(T=document.createElement("canvas"),x=T.getContext("webgl",{premultipliedalpha:!1}))}e.WebGLUtils=t},function(u,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFJS=e.isWorker=e.globalScope=void 0;var r=t(2),n=t(1),i=t(0),a=t(3),s=t(6),o=t(5),t=t(4),h="undefined"==typeof window,l=(i.globalScope.PDFJS||(i.globalScope.PDFJS={}),i.globalScope.PDFJS),c=(l.version="1.9.426",l.build="2558a58d",l.pdfBug=!1,void 0!==l.verbosity&&(0,i.setVerbosityLevel)(l.verbosity),delete l.verbosity,Object.defineProperty(l,"verbosity",{get:function(){return(0,i.getVerbosityLevel)()},set:function(e){(0,i.setVerbosityLevel)(e)},enumerable:!0,configurable:!0}),l.VERBOSITY_LEVELS=i.VERBOSITY_LEVELS,l.OPS=i.OPS,l.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES,l.isValidUrl=n.isValidUrl,l.shadow=i.shadow,l.createBlob=i.createBlob,l.createObjectURL=function(e,t){return(0,i.createObjectURL)(e,t,l.disableCreateObjectURL)},Object.defineProperty(l,"isLittleEndian",{configurable:!0,get:function(){return(0,i.shadow)(l,"isLittleEndian",(0,i.isLittleEndian)())}}),l.removeNullCharacters=i.removeNullCharacters,l.PasswordResponses=i.PasswordResponses,l.PasswordException=i.PasswordException,l.UnknownErrorException=i.UnknownErrorException,l.InvalidPDFException=i.InvalidPDFException,l.MissingPDFException=i.MissingPDFException,l.UnexpectedResponseException=i.UnexpectedResponseException,l.Util=i.Util,l.PageViewport=i.PageViewport,l.createPromiseCapability=i.createPromiseCapability,l.maxImageSize=void 0===l.maxImageSize?-1:l.maxImageSize,l.cMapUrl=void 0===l.cMapUrl?null:l.cMapUrl,l.cMapPacked=void 0!==l.cMapPacked&&l.cMapPacked,l.disableFontFace=void 0!==l.disableFontFace&&l.disableFontFace,l.imageResourcesPath=void 0===l.imageResourcesPath?"":l.imageResourcesPath,l.disableWorker=void 0!==l.disableWorker&&l.disableWorker,l.workerSrc=void 0===l.workerSrc?null:l.workerSrc,l.workerPort=void 0===l.workerPort?null:l.workerPort,l.disableRange=void 0!==l.disableRange&&l.disableRange,l.disableStream=void 0!==l.disableStream&&l.disableStream,l.disableAutoFetch=void 0!==l.disableAutoFetch&&l.disableAutoFetch,l.pdfBug=void 0!==l.pdfBug&&l.pdfBug,l.postMessageTransfers=void 0===l.postMessageTransfers||l.postMessageTransfers,l.disableCreateObjectURL=void 0!==l.disableCreateObjectURL&&l.disableCreateObjectURL,l.disableWebGL=void 0===l.disableWebGL||l.disableWebGL,l.externalLinkTarget=void 0===l.externalLinkTarget?n.LinkTarget.NONE:l.externalLinkTarget,l.externalLinkRel=void 0===l.externalLinkRel?n.DEFAULT_LINK_REL:l.externalLinkRel,l.isEvalSupported=void 0===l.isEvalSupported||l.isEvalSupported,l.pdfjsNext=void 0!==l.pdfjsNext&&l.pdfjsNext,l.openExternalLinksInNewWindow);delete l.openExternalLinksInNewWindow,Object.defineProperty(l,"openExternalLinksInNewWindow",{get:function(){return l.externalLinkTarget===n.LinkTarget.BLANK},set:function(e){e&&(0,i.deprecated)('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),l.externalLinkTarget===n.LinkTarget.NONE?l.externalLinkTarget=e?n.LinkTarget.BLANK:n.LinkTarget.NONE:(0,i.warn)("PDFJS.externalLinkTarget is already initialized")},enumerable:!0,configurable:!0}),c&&(l.openExternalLinksInNewWindow=c),l.getDocument=r.getDocument,l.LoopbackPort=r.LoopbackPort,l.PDFDataRangeTransport=r.PDFDataRangeTransport,l.PDFWorker=r.PDFWorker,l.hasCanvasTypedArrays=!0,l.CustomStyle=n.CustomStyle,l.LinkTarget=n.LinkTarget,l.addLinkAttributes=n.addLinkAttributes,l.getFilenameFromUrl=n.getFilenameFromUrl,l.isExternalLinkTargetSet=n.isExternalLinkTargetSet,l.AnnotationLayer=a.AnnotationLayer,l.renderTextLayer=o.renderTextLayer,l.Metadata=s.Metadata,l.SVGGraphics=t.SVGGraphics,l.UnsupportedManager=r._UnsupportedManager,e.globalScope=i.globalScope,e.isWorker=h,e.PDFJS=l},function(c,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkManager=e.PDFNetworkStream=void 0;var i=t(0),t=t(2);function r(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function a(e){var t=e.response;if("string"!=typeof t)return t;for(var r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=255&t.charCodeAt(i);return n.buffer}var o=function(){try{var e=new XMLHttpRequest;return e.open("GET",i.globalScope.location.href),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}();function n(e){e=(this._options=e).source;this._manager=new r(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function s(e,t){this._manager=e;var r=t.source,n={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:r.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function l(e,t,r){this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}r.prototype={requestRange:function(e,t,r){var n,i={begin:e,end:t};for(n in r)i[n]=r[n];return this.request(i)},requestFull:function(e){return this.request(e)},request:function(t){var e,r,n=this.getXhr(),i=this.currXhrId++,a=this.pendingRequests[i]={xhr:n};for(e in n.open("GET",this.url),n.withCredentials=this.withCredentials,this.httpHeaders){var s=this.httpHeaders[e];void 0!==s&&n.setRequestHeader(e,s)}return this.isHttp&&"begin"in t&&"end"in t?(r=t.begin+"-"+(t.end-1),n.setRequestHeader("Range","bytes="+r),a.expectedStatus=206):a.expectedStatus=200,o&&!!t.onProgressiveData?(n.responseType="moz-chunked-arraybuffer",a.onProgressiveData=t.onProgressiveData,a.mozChunked=!0):n.responseType="arraybuffer",t.onError&&(n.onerror=function(e){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,n.send(null),i},onProgress:function(e,t){var r,e=this.pendingRequests[e];e&&(e.mozChunked&&(r=a(e.xhr),e.onProgressiveData(r)),(r=e.onProgress)&&r(t))},onStateChange:function(e,t){var r,n,i=this.pendingRequests[e];i&&(2<=(r=i.xhr).readyState&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===r.readyState&&e in this.pendingRequests&&(delete this.pendingRequests[e],(0!==r.status||!this.isHttp)&&(200===(n=r.status||200)&&206===i.expectedStatus||n===i.expectedStatus)?(this.loadedRequests[e]=!0,e=a(r),206===n?(n=r.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(n),n=parseInt(n[1],10),i.onDone({begin:n,chunk:e})):i.onProgressiveData?i.onDone(null):e?i.onDone({begin:0,chunk:e}):i.onError&&i.onError(r.status)):i.onError&&i.onError(r.status)))},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},n.prototype={_onRangeRequestReaderClosed:function(e){e=this._rangeRequestReaders.indexOf(e);0<=e&&this._rangeRequestReaders.splice(e,1)},getFullReader:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new s(this._manager,this._options),this._fullRequestReader},getRangeReader:function(e,t){e=new l(this._manager,e,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e},cancelAllRequests:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}},s.prototype={_validateRangeRequestCapabilities:function(){if(this._disableRange)return!1;var e=this._manager;if(!e.isHttp)return!1;var t=this._fullRequestId,e=e.getRequestXhr(t);if("bytes"!==e.getResponseHeader("Accept-Ranges"))return!1;if("identity"!==(e.getResponseHeader("Content-Encoding")||"identity"))return!1;t=e.getResponseHeader("Content-Length"),t=parseInt(t,10);return!!(0,i.isInt)(t)&&!((this._contentLength=t)<=2*this._rangeChunkSize)},_onHeadersReceived:function(){this._validateRangeRequestCapabilities()&&(this._isRangeSupported=!0);var e=this._manager,t=this._fullRequestId;e.isStreamingRequest(t)?this._isStreamingSupported=!0:this._isRangeSupported&&e.abortRequest(t),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t=this._url,r=404===e||0===e&&/^file:/.test(t)?new i.MissingPDFException('Missing PDF "'+t+'".'):new i.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e);this._storedError=r,this._headersReceivedCapability.reject(r),this._requests.forEach(function(e){e.reject(r)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length)return e=this._cachedChunks.shift(),Promise.resolve({value:e,done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise},cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},l.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){e=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk)return e=this._queuedChunk,this._queuedChunk=null,Promise.resolve({value:e,done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},(0,t.setPDFNetworkStreamClass)(n),e.PDFNetworkStream=n,e.NetworkManager=r},function(e,t,c){"use strict";var r,n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t,o=(r=[function(e,n,t){var r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},s=t(1).assert;function o(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":r(e))}function l(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}n.typeIsObject=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e||"function"==typeof e},n.createDataProperty=function(e,t,r){s(n.typeIsObject(e)),Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})},n.createArrayFromList=function(e){return e.slice()},n.ArrayBufferCopy=function(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)},n.CreateIterResultObject=function(e,t){s("boolean"==typeof t);var r={};return Object.defineProperty(r,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),r},n.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},n.InvokeOrNoop=function(e,t,r){s(void 0!==e),s(o(t)),s(Array.isArray(r));t=e[t];if(void 0!==t)return l(t,e,r)},n.PromiseInvokeOrNoop=function(e,t,r){s(void 0!==e),s(o(t)),s(Array.isArray(r));try{return Promise.resolve(n.InvokeOrNoop(e,t,r))}catch(e){return Promise.reject(e)}},n.PromiseInvokeOrPerformFallback=function(e,t,r,n,i){s(void 0!==e),s(o(t)),s(Array.isArray(r)),s(Array.isArray(i));var a=void 0;try{a=e[t]}catch(e){return Promise.reject(e)}if(void 0===a)return n.apply(null,i);try{return Promise.resolve(l(a,e,r))}catch(e){return Promise.reject(e)}},n.TransferArrayBuffer=function(e){return e.slice()},n.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},n.ValidateAndNormalizeQueuingStrategy=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:t=n.ValidateAndNormalizeHighWaterMark(t)}}},function(e,t,r){function n(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}n.prototype=Object.create(Error.prototype),e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===n&&setTimeout(function(){throw e},0)},AssertionError:n.prototype.constructor=n,assert:function(e,t){if(!e)throw new n(t)}}},function(u,h,e){var d=function(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e};function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=e(0),m=t.InvokeOrNoop,g=t.PromiseInvokeOrNoop,b=t.ValidateAndNormalizeQueuingStrategy,v=t.typeIsObject,t=e(1),l=t.assert,_=t.rethrowAssertionErrorRejection,t=e(3),y=t.DequeueValue,A=t.EnqueueValueWithSize,S=t.PeekQueueValue,w=t.ResetQueue,e=(d(P,[{key:"abort",value:function(e){return!1===i(this)?Promise.reject(Y("abort")):!0===s(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):R(this,e)}},{key:"getWriter",value:function(){if(!1===i(this))throw Y("getWriter");return C(this)}},{key:"locked",get:function(){if(!1===i(this))throw Y("locked");return s(this)}}]),P);function P(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.size,t=t.highWaterMark,t=void 0===t?1:t;if(p(this,P),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==e.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new U(this,e,r,t),this._writableStreamController.__startSteps()}function C(e){return new D(e)}function i(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function s(e){return l(!0===i(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function R(r,n){var e=r._state;if("closed"===e)return Promise.resolve(void 0);if("errored"===e)return Promise.reject(r._storedError);var t=new TypeError("Requested to abort");if(void 0!==r._pendingAbortRequest)return Promise.reject(t);l("writable"===e||"erroring"===e,"state must be writable or erroring");var i=!1,e=("erroring"===e&&(i=!0,n=void 0),new Promise(function(e,t){r._pendingAbortRequest={_resolve:e,_reject:t,_reason:n,_wasAlreadyErroring:i}}));return!1===i&&x(r,t),e}function k(e,t){var r=e._state;"writable"!==r?(l("erroring"===r),T(e)):x(e,t)}function x(e,t){l(void 0===e._storedError,"stream._storedError === undefined"),l("writable"===e._state,"state must be writable");var r=e._writableStreamController,n=(l(void 0!==r,"controller must not be undefined"),e._state="erroring",e._storedError=t,e._writer);void 0!==n&&M(n,t),!1===I(e)&&!0===r._started&&T(e)}function T(t){l("erroring"===t._state,"stream._state === erroring"),l(!1===I(t),"WritableStreamHasOperationMarkedInFlight(stream) === false"),t._state="errored",t._writableStreamController.__errorSteps();for(var e=t._storedError,r=0;r<t._writeRequests.length;r++)t._writeRequests[r]._reject(e);if(t._writeRequests=[],void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(!(t._pendingAbortRequest=void 0)===n._wasAlreadyErroring)return n._reject(e),void a(t);t._writableStreamController.__abortSteps(n._reason).then(function(){n._resolve(),a(t)},function(e){n._reject(e),a(t)})}else a(t)}function E(e){l(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state,t=(l("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0)!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0),e._state="closed",e._writer);void 0!==t&&(l(void 0!==(t=t)._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==t._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===t._closedPromiseState,"writer._closedPromiseState is pending"),t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved"),l(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),l(void 0===e._storedError,"stream._storedError === undefined")}function c(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function I(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function a(e){l("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(l(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(J(t,e._storedError),t._closedPromise.catch(function(){}))}function L(e,t){l("writable"===e._state),l(!1===c(e));var r,n=e._writer;void 0!==n&&t!==e._backpressure&&(!0===t?(l(void 0===(r=n)._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===r._readyPromise_reject,"writer._readyPromise_reject === undefined"),r._readyPromise=new Promise(function(e,t){r._readyPromise_resolve=e,r._readyPromise_reject=t}),r._readyPromiseState="pending"):(l(!1===t),Z(n))),e._backpressure=t}u.exports={AcquireWritableStreamDefaultWriter:C,IsWritableStream:i,IsWritableStreamLocked:s,WritableStream:e,WritableStreamAbort:R,WritableStreamDefaultControllerError:X,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream,r=(l(void 0!==t),t._state);return!0!==c(t)&&"closed"!==r?"errored"!==r?(l("writable"===r||"erroring"===r),F(e)):Promise.reject(t._storedError):Promise.resolve()},WritableStreamDefaultWriterRelease:j,WritableStreamDefaultWriterWrite:q,WritableStreamCloseQueuedOrInFlight:c};d(O,[{key:"abort",value:function(e){{return!1===r(this)?Promise.reject(n("abort")):void 0===this._ownerWritableStream?Promise.reject(o("abort")):(t=(t=this)._ownerWritableStream,l(void 0!==t),R(t,e));var t}}},{key:"close",value:function(){if(!1===r(this))return Promise.reject(n("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(o("close")):!0===c(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):F(this)}},{key:"releaseLock",value:function(){if(!1===r(this))throw n("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(l(void 0!==e._writer),j(this))}},{key:"write",value:function(e){return!1===r(this)?Promise.reject(n("write")):void 0===this._ownerWritableStream?Promise.reject(o("write to")):q(this,e)}},{key:"closed",get:function(){return!1===r(this)?Promise.reject(n("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===r(this))throw n("desiredSize");if(void 0===this._ownerWritableStream)throw o("desiredSize");return e=(e=this)._ownerWritableStream,"errored"!==(t=e._state)&&"erroring"!==t?"closed"!==t?B(e._writableStreamController):0:null;var e,t}},{key:"ready",get:function(){return!1===r(this)?Promise.reject(n("ready")):this._readyPromise}}]);var D=O;function O(e){if(p(this,O),!1===i(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===s(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");(this._ownerWritableStream=e)._writer=this;var t,r,n=e._state;"writable"===n?(!1===c(e)&&!0===e._backpressure?((r=this)._readyPromise=new Promise(function(e,t){r._readyPromise_resolve=e,r._readyPromise_reject=t}),r._readyPromiseState="pending"):K(this),V(this)):"erroring"===n?(Q(this,e._storedError),this._readyPromise.catch(function(){}),V(this)):"closed"===n?(K(this),(t=this)._closedPromise=Promise.resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved"):(l("errored"===n,"state must be errored"),Q(this,t=e._storedError),this._readyPromise.catch(function(){}),(n=this)._closedPromise=Promise.reject(t),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}function r(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function F(e){var r=e._ownerWritableStream,t=(l(void 0!==r),r._state);if("closed"===t||"errored"===t)return Promise.reject(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));l("writable"===t||"erroring"===t),l(!1===c(r));var n=new Promise(function(e,t){r._closeRequest={_resolve:e,_reject:t}});return!0===r._backpressure&&"writable"===t&&Z(e),t=r._writableStreamController,A(t,"close",0),z(t),n}function N(e,t){var r;"pending"===e._closedPromiseState?J(e,t):(t=t,l(void 0===(r=e)._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),l(void 0===r._closedPromise_reject,"writer._closedPromise_reject === undefined"),l("pending"!==r._closedPromiseState,"writer._closedPromiseState is not pending"),r._closedPromise=Promise.reject(t),r._closedPromiseState="rejected"),e._closedPromise.catch(function(){})}function M(e,t){var r,n;"pending"===e._readyPromiseState?(n=t,l(void 0!==(r=e)._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==r._readyPromise_reject,"writer._readyPromise_reject !== undefined"),r._readyPromise_reject(n),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected"):(n=t,l(void 0===(r=e)._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===r._readyPromise_reject,"writer._readyPromise_reject === undefined"),r._readyPromise=Promise.reject(n),r._readyPromiseState="rejected"),e._readyPromise.catch(function(){})}function j(e){var t=e._ownerWritableStream,r=(l(void 0!==t),l(t._writer===e),new TypeError("Writer was released and can no longer be used to monitor the stream's closedness"));M(e,r),N(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function q(e,t){var r=e._ownerWritableStream,n=(l(void 0!==r),r._writableStreamController),i=function(t,e){var r=t._strategySize;if(void 0===r)return 1;try{return r(e)}catch(e){return G(t,e),1}}(n,t);if(r!==e._ownerWritableStream)return Promise.reject(o("write to"));e=r._state;if("errored"===e)return Promise.reject(r._storedError);if(!0===c(r)||"closed"===e)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===e)return Promise.reject(r._storedError);l("writable"===e);l(!0===s(a=r)),l("writable"===a._state);var a,e=new Promise(function(e,t){a._writeRequests.push({_resolve:e,_reject:t})});return function(t,e,r){e={chunk:e};try{A(t,e,r)}catch(e){return G(t,e)}e=t._controlledWritableStream;!1===c(e)&&"writable"===e._state&&(r=H(t),L(e,r));z(t)}(n,t,i),e}d(W,[{key:"error",value:function(e){if(!1==(!!v(t=this)&&!!Object.prototype.hasOwnProperty.call(t,"_underlyingSink")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t;"writable"===this._controlledWritableStream._state&&X(this,e)}},{key:"__abortSteps",value:function(e){return g(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){w(this)}},{key:"__startSteps",value:function(){var t=this,e=m(this._underlyingSink,"start",[this]),r=this._controlledWritableStream;Promise.resolve(e).then(function(){l("writable"===r._state||"erroring"===r._state),t._started=!0,z(t)},function(e){l("writable"===r._state||"erroring"===r._state),t._started=!0,k(r,e)}).catch(_)}}]);var U=W;function W(e,t,r,n){if(p(this,W),!1===i(e))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==e._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=e,this._underlyingSink=t,this._queue=void 0,this._queueTotalSize=void 0,w(this),this._started=!1;t=b(r,n);this._strategySize=t.size,this._strategyHWM=t.highWaterMark,L(e,H(this))}function B(e){return e._strategyHWM-e._queueTotalSize}function z(e){var t,r,n,i,a,s,o=e._controlledWritableStream;!1!==e._started&&(void 0!==o._inFlightWriteRequest||"closed"!==(t=o._state)&&"errored"!==t&&("erroring"!==t?0!==e._queue.length&&("close"===(t=S(e))?(n=s=(a=e)._controlledWritableStream,l(void 0===n._inFlightCloseRequest),l(void 0!==n._closeRequest),n._inFlightCloseRequest=n._closeRequest,n._closeRequest=void 0,y(a),l(0===a._queue.length,"queue must be empty once the final write record is dequeued"),g(a._underlyingSink,"close",[]).then(function(){E(s)},function(e){var t;e=e,l(void 0!==(t=s)._inFlightCloseRequest),t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,l("writable"===t._state||"erroring"===t._state),void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),k(t,e)}).catch(_)):(r=e,n=t.chunk,a=i=r._controlledWritableStream,l(void 0===a._inFlightWriteRequest,"there must be no pending write request"),l(0!==a._writeRequests.length,"writeRequests must not be empty"),a._inFlightWriteRequest=a._writeRequests.shift(),g(r._underlyingSink,"write",[n,r]).then(function(){l(void 0!==(e=i)._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0;var e=i._state;l("writable"===e||"erroring"===e),y(r),!1===c(i)&&"writable"===e&&(e=H(r),L(i,e)),z(r)},function(e){var t;e=e,l(void 0!==(t=i)._inFlightWriteRequest),t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,l("writable"===t._state||"erroring"===t._state),k(t,e)}).catch(_))):T(o)))}function G(e,t){"writable"===e._controlledWritableStream._state&&X(e,t)}function H(e){return B(e)<=0}function X(e,t){e=e._controlledWritableStream;l("writable"===e._state),x(e,t)}function Y(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function n(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function o(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function V(r){r._closedPromise=new Promise(function(e,t){r._closedPromise_resolve=e,r._closedPromise_reject=t,r._closedPromiseState="pending"})}function J(e,t){l(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Q(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function K(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function Z(e){l(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,r){var n=r(0).IsFiniteNonNegativeNumber,i=r(1).assert;t.DequeueValue=function(e){i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),i(0<e._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,r){if(i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),r=Number(r),!n(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r},t.PeekQueueValue=function(e){return i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),i(0<e._queue.length,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(r,n,i){var e=function(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e};function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=i(0),p=t.ArrayBufferCopy,a=t.CreateIterResultObject,m=t.IsFiniteNonNegativeNumber,g=t.InvokeOrNoop,b=t.PromiseInvokeOrNoop,v=t.TransferArrayBuffer,y=t.ValidateAndNormalizeQueuingStrategy,A=t.ValidateAndNormalizeHighWaterMark,t=i(0),S=t.createArrayFromList,w=t.createDataProperty,s=t.typeIsObject,t=i(1),h=t.assert,_=t.rethrowAssertionErrorRejection,t=i(3),P=t.DequeueValue,C=t.EnqueueValueWithSize,R=t.ResetQueue,t=i(2),k=t.AcquireWritableStreamDefaultWriter,x=t.IsWritableStream,T=t.IsWritableStreamLocked,E=t.WritableStreamAbort,I=t.WritableStreamDefaultWriterCloseWithErrorPropagation,L=t.WritableStreamDefaultWriterRelease,D=t.WritableStreamDefaultWriterWrite,O=t.WritableStreamCloseQueuedOrInFlight,F=(e(N,[{key:"cancel",value:function(e){return!1===o(this)?Promise.reject(Ie("cancel")):!0===l(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):U(this,e)}},{key:"getReader",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===o(this))throw Ie("getReader");if(void 0===e)return M(this);if("byob"===String(e))return new Q(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var r=e.writable,e=e.readable,r=this.pipeTo(r,t);try{Promise.prototype.then.call(r,void 0,function(){})}catch(e){}return e}},{key:"pipeTo",value:function(u){var h=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.preventClose,v=e.preventAbort,f=e.preventCancel;if(!1===o(this))return Promise.reject(Ie("pipeTo"));if(!1===x(u))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(d=Boolean(d),v=Boolean(v),f=Boolean(f),!0===l(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===T(u))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var p=M(this),m=k(u),g=!1,b=Promise.resolve();return new Promise(function(r,n){var e,t,i;function a(){var e=b;return b.then(function(){return e!==b?a():void 0})}function s(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(_)}function o(e,t,r){function n(){e().then(function(){return c(t,r)},function(e){return c(!0,e)}).catch(_)}!0!==g&&(g=!0,"writable"===u._state&&!1===O(u)?a().then(n):n())}function l(e,t){!0!==g&&(g=!0,"writable"===u._state&&!1===O(u)?a().then(function(){return c(e,t)}).catch(_):c(e,t))}function c(e,t){L(m),ee(p),e?n(t):r(void 0)}s(h,p._closedPromise,function(e){!1===v?o(function(){return E(u,e)},!0,e):l(!0,e)}),s(u,m._closedPromise,function(e){!1===f?o(function(){return U(h,e)},!0,e):l(!0,e)}),e=p._closedPromise,t=function(){!1===d?o(function(){return I(m)}):l()},"closed"===h._state?t():e.then(t).catch(_),!0!==O(u)&&"closed"!==u._state||(i=new TypeError("the destination writable stream closed before all data could be piped to it"),!1===f?o(function(){return U(h,i)},!0,i):l(!0,i)),function e(){return b=Promise.resolve(),!0===g?Promise.resolve():m._readyPromise.then(function(){return te(p).then(function(e){var t=e.value;!0!==e.done&&(b=D(m,t).catch(function(){}))})}).then(e)}().catch(function(e){b=Promise.resolve(),_(e)})})}},{key:"tee",value:function(){if(!1===o(this))throw Ie("tee");var e,t,r,n,i,a;return h(!(t=!1)===o(e=this)),h("boolean"==typeof t),r=M(e),(n={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0}).promise=new Promise(function(e){n._resolve=e}),(i=function e(){var r=e._branch1,n=e._branch2,i=e._teeState;return te(e._reader).then(function(e){h(s(e));var t=e.value,e=e.done;h("boolean"==typeof e),!0===e&&!1===i.closedOrErrored&&(!1===i.canceled1&&se(r),!1===i.canceled2&&se(n),i.closedOrErrored=!0),!0!==i.closedOrErrored&&(e=t,!1===i.canceled1&&oe(r,t),!1===i.canceled2&&oe(n,e))})})._reader=r,i._teeState=n,i._cloneForBranch2=t,(t=function e(t){var r=e._stream,n=e._teeState;return n.canceled1=!0,n.reason1=t,!0===n.canceled2&&(t=U(r,S([n.reason1,n.reason2])),n._resolve(t)),n.promise})._stream=e,t._teeState=n,(a=function e(t){var r=e._stream,n=e._teeState;return n.canceled2=!0,n.reason2=t,!0===n.canceled1&&(t=U(r,S([n.reason1,n.reason2])),n._resolve(t)),n.promise})._stream=e,a._teeState=n,e=Object.create(Object.prototype),w(e,"pull",i),w(e,"cancel",t),t=new F(e),e=Object.create(Object.prototype),w(e,"pull",i),w(e,"cancel",a),a=new F(e),i._branch1=t._readableStreamController,i._branch2=a._readableStreamController,r._closedPromise.catch(function(e){!0!==n.closedOrErrored&&(le(i._branch1,e),le(i._branch2,e),n.closedOrErrored=!0)}),S([t,a])}},{key:"locked",get:function(){if(!1===o(this))throw Ie("locked");return l(this)}}]),N);function N(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.size,t=t.highWaterMark,n=(f(this,N),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0,e.type);if("bytes"===String(n))this._readableStreamController=new fe(this,e,t=void 0===t?0:t);else{if(void 0!==n)throw new RangeError("Invalid type is specified");this._readableStreamController=new re(this,e,r,t=void 0===t?1:t)}}function M(e){return new V(e)}function o(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function l(e){return h(!0===o(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function j(r){return h(!0===c(r._reader)),h("readable"===r._state||"closed"===r._state),new Promise(function(e,t){r._reader._readIntoRequests.push({_resolve:e,_reject:t})})}function q(r){return h(!0===u(r._reader)),h("readable"===r._state),new Promise(function(e,t){r._reader._readRequests.push({_resolve:e,_reject:t})})}function U(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(W(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function W(e){h("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===u(t)){for(var r=0;r<t._readRequests.length;r++)(0,t._readRequests[r]._resolve)(a(void 0,!0));t._readRequests=[]}h(void 0!==(e=t)._closedPromise_resolve),h(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}}function B(e,t){h(!0===o(e),"stream must be ReadableStream"),h("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var r=e._reader;if(void 0!==r){if(!0===u(r)){for(var n=0;n<r._readRequests.length;n++)r._readRequests[n]._reject(t);r._readRequests=[]}else{h(c(r),"reader must be ReadableStreamBYOBReader");for(var i=0;i<r._readIntoRequests.length;i++)r._readIntoRequests[i]._reject(t);r._readIntoRequests=[]}Oe(r,t),r._closedPromise.catch(function(){})}}function z(e,t,r){e=e._reader;h(0<e._readRequests.length),e._readRequests.shift()._resolve(a(t,r))}function G(e){return e._reader._readIntoRequests.length}function H(e){return e._reader._readRequests.length}function X(e){e=e._reader;return void 0!==e&&!1!==c(e)}function Y(e){e=e._reader;return void 0!==e&&!1!==u(e)}r.exports={ReadableStream:F,IsReadableStreamDisturbed:function(e){return h(!0===o(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:se,ReadableStreamDefaultControllerEnqueue:oe,ReadableStreamDefaultControllerError:le,ReadableStreamDefaultControllerGetDesiredSize:ue};e(J,[{key:"cancel",value:function(e){return!1===u(this)?Promise.reject(De("cancel")):void 0===this._ownerReadableStream?Promise.reject(Le("cancel")):$(this,e)}},{key:"read",value:function(){return!1===u(this)?Promise.reject(De("read")):void 0===this._ownerReadableStream?Promise.reject(Le("read from")):te(this)}},{key:"releaseLock",value:function(){if(!1===u(this))throw De("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ee(this)}}},{key:"closed",get:function(){return!1===u(this)?Promise.reject(De("closed")):this._closedPromise}}]);var V=J;function J(e){if(f(this,J),!1===o(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===l(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,e),this._readRequests=[]}e(K,[{key:"cancel",value:function(e){return c(this)?void 0===this._ownerReadableStream?Promise.reject(Le("cancel")):$(this,e):Promise.reject(Fe("cancel"))}},{key:"read",value:function(e){{if(c(this)){if(void 0===this._ownerReadableStream)return Promise.reject(Le("read from"));if(ArrayBuffer.isView(e)){if(0===e.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var t=this;if(t=t._ownerReadableStream,h(void 0!==t),t._disturbed=!0,"errored"===t._state)return Promise.reject(t._storedError);var t,r=(t=t._readableStreamController)._controlledReadableStream,n=1,i=(e.constructor!==DataView&&(n=e.constructor.BYTES_PER_ELEMENT),e.constructor),n={buffer:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(0<t._pendingPullIntos.length)return n.buffer=v(n.buffer),t._pendingPullIntos.push(n),j(r);if("closed"===r._state)return i=new e.constructor(n.buffer,n.byteOffset,0),Promise.resolve(a(i,!0));if(0<t._queueTotalSize){if(!0===Se(t,n))return e=ye(n),Pe(t),Promise.resolve(a(e,!1));if(!0===t._closeRequested)return i=new TypeError("Insufficient bytes to fill elements in the given buffer"),Te(t,i),Promise.reject(i)}return n.buffer=v(n.buffer),t._pendingPullIntos.push(n),e=j(r),be(t),e}return Promise.reject(new TypeError("view must be an array buffer view"))}return Promise.reject(Fe("read"))}}},{key:"releaseLock",value:function(){if(!c(this))throw Fe("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ee(this)}}},{key:"closed",get:function(){return c(this)?this._closedPromise:Promise.reject(Fe("closed"))}}]);var Q=K;function K(e){if(f(this,K),!o(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===me(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(l(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,e),this._readIntoRequests=[]}function c(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function u(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Z(e,t){var r,n;(e._ownerReadableStream=t)._reader=e,"readable"===t._state?(n=e)._closedPromise=new Promise(function(e,t){n._closedPromise_resolve=e,n._closedPromise_reject=t}):"closed"===t._state?((r=e)._closedPromise=Promise.resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0):(h("errored"===t._state,"state must be errored"),r=e,t=t._storedError,r._closedPromise=Promise.reject(t),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,e._closedPromise.catch(function(){}))}function $(e,t){e=e._ownerReadableStream;return h(void 0!==e),U(e,t)}function ee(e){var t,r;h(void 0!==e._ownerReadableStream),h(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Oe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),h(void 0===t._closedPromise_resolve),h(void 0===t._closedPromise_reject),t._closedPromise=Promise.reject(r)),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function te(e){e=e._ownerReadableStream;return h(void 0!==e),e._disturbed=!0,"closed"===e._state?Promise.resolve(a(void 0,!0)):"errored"===e._state?Promise.reject(e._storedError):(h("readable"===e._state),e._readableStreamController.__pullSteps())}e(ne,[{key:"close",value:function(){if(!1===ie(this))throw Ne("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");se(this)}},{key:"enqueue",value:function(e){if(!1===ie(this))throw Ne("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return oe(this,e)}},{key:"error",value:function(e){if(!1===ie(this))throw Ne("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");le(this,e)}},{key:"__cancelSteps",value:function(e){return R(this),b(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(0<this._queue.length)return t=P(this),!0===this._closeRequested&&0===this._queue.length?W(e):ae(this),Promise.resolve(a(t,!1));var t=q(e);return ae(this),t}},{key:"desiredSize",get:function(){if(!1===ie(this))throw Ne("desiredSize");return ue(this)}}]);var re=ne;function ne(e,t,r,n){if(f(this,ne),!1===o(e))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==e._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=e,this._underlyingSource=t,this._queue=void 0,this._queueTotalSize=void 0,R(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var e=y(r,n),i=(this._strategySize=e.size,this._strategyHWM=e.highWaterMark,this),r=g(t,"start",[this]);Promise.resolve(r).then(function(){i._started=!0,h(!1===i._pulling),h(!1===i._pullAgain),ae(i)},function(e){ce(i,e)}).catch(_)}function ie(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function ae(t){!1!==function(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===l(t)&&0<H(t))return!0;if(0<ue(e))return!0;return!1}(t)&&(!0!==t._pulling?(h(!1===t._pullAgain),t._pulling=!0,b(t._underlyingSource,"pull",[t]).then(function(){if(!(t._pulling=!1)===t._pullAgain)return t._pullAgain=!1,ae(t)},function(e){ce(t,e)}).catch(_)):t._pullAgain=!0)}function se(e){var t=e._controlledReadableStream;h(!1===e._closeRequested),h("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&W(t)}function oe(t,e){var r=t._controlledReadableStream;if(h(!1===t._closeRequested),h("readable"===r._state),!0===l(r)&&0<H(r))z(r,e,!1);else{r=1;if(void 0!==t._strategySize){var n=t._strategySize;try{r=n(e)}catch(e){throw ce(t,e),e}}try{C(t,e,r)}catch(e){throw ce(t,e),e}}ae(t)}function le(e,t){var r=e._controlledReadableStream;h("readable"===r._state),R(e),B(r,t)}function ce(e,t){"readable"===e._controlledReadableStream._state&&le(e,t)}function ue(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}e(de,[{key:"respond",value:function(e){if(!1===ge(this))throw Me("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var t=this._associatedReadableByteStreamController;if(e=Number(e),!1===m(e))throw new RangeError("bytesWritten must be a finite");h(0<t._pendingPullIntos.length),ke(t,e)}},{key:"respondWithNewView",value:function(e){if(!1===ge(this))throw Me("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");var t=this._associatedReadableByteStreamController,r=(h(0<t._pendingPullIntos.length),t._pendingPullIntos[0]);if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=e.buffer,ke(t,e.byteLength)}},{key:"view",get:function(){return this._view}}]);var he=de;function de(e,t){f(this,de),this._associatedReadableByteStreamController=e,this._view=t}e(pe,[{key:"close",value:function(){if(!1===me(this))throw je("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");var t,e=this,r=e._controlledReadableStream;if(h(e._closeRequested===false),h(r._state==="readable"),0<e._queueTotalSize)e._closeRequested=!0;else{if(0<e._pendingPullIntos.length)if(0<e._pendingPullIntos[0].bytesFilled)throw t=new TypeError("Insufficient bytes to fill elements in the given buffer"),Te(e,t),t;W(r)}}},{key:"enqueue",value:function(e){if(!1===me(this))throw je("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t,r=this._controlledReadableStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");var r=this,n=r._controlledReadableStream,i=(h(!1===r._closeRequested),h("readable"===n._state),e.buffer),a=e.byteOffset,e=e.byteLength,i=v(i);!0===Y(n)?0===H(n)?Ae(r,i,a,e):(h(0===r._queue.length),t=new Uint8Array(i,a,e),z(n,t,!1)):!0===X(n)?(Ae(r,i,a,e),Re(r)):(h(!1===l(n),"stream must not be locked"),Ae(r,i,a,e))}},{key:"error",value:function(e){if(!1===me(this))throw je("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");Te(this,e)}},{key:"__cancelSteps",value:function(e){return 0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0),R(this),b(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(h(!0===Y(e)),0<this._queueTotalSize){h(0===H(e));var t=this._queue.shift(),r=(this._queueTotalSize-=t.byteLength,Pe(this),void 0);try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(a(r,!1))}t=this._autoAllocateChunkSize;if(void 0!==t){r=void 0;try{r=new ArrayBuffer(t)}catch(e){return Promise.reject(e)}r={buffer:r,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}t=q(e);return be(this),t}},{key:"byobRequest",get:function(){if(!1===me(this))throw je("byobRequest");var e;return void 0===this._byobRequest&&0<this._pendingPullIntos.length&&(e=this._pendingPullIntos[0],e=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),this._byobRequest=new he(this,e)),this._byobRequest}},{key:"desiredSize",get:function(){if(!1===me(this))throw je("desiredSize");return Ee(this)}}]);var fe=pe;function pe(t,e,r){if(f(this,pe),!1===o(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=e,this._pullAgain=!1,this._pulling=!1,ve(this),this._queue=this._queueTotalSize=void 0,R(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=A(r);r=e.autoAllocateChunkSize;if(void 0!==r&&(!1===Number.isInteger(r)||r<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=r,this._pendingPullIntos=[];var n=this,r=g(e,"start",[this]);Promise.resolve(r).then(function(){n._started=!0,h(!1===n._pulling),h(!1===n._pullAgain),be(n)},function(e){"readable"===t._state&&Te(n,e)}).catch(_)}function me(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function ge(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function be(t){!1!==function(e){var t=e._controlledReadableStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===Y(t)&&0<H(t))return!0;if(!0===X(t)&&0<G(t))return!0;if(0<Ee(e))return!0;return!1}(t)&&(!0!==t._pulling?(h(!1===t._pullAgain),t._pulling=!0,b(t._underlyingByteSource,"pull",[t]).then(function(){!(t._pulling=!1)===t._pullAgain&&(t._pullAgain=!1,be(t))},function(e){"readable"===t._controlledReadableStream._state&&Te(t,e)}).catch(_)):t._pullAgain=!0)}function ve(e){Ce(e),e._pendingPullIntos=[]}function _e(e,t){h("errored"!==e._state,"state must not be errored");var r=!1,n=("closed"===e._state&&(h(0===t.bytesFilled),r=!0),ye(t));"default"===t.readerType?z(e,n,r):(h("byob"===t.readerType),t=n,n=r,r=(r=e)._reader,h(0<r._readIntoRequests.length),r._readIntoRequests.shift()._resolve(a(t,n)))}function ye(e){var t=e.bytesFilled,r=e.elementSize;return h(t<=e.byteLength),h(t%r==0),new e.ctor(e.buffer,e.byteOffset,t/r)}function Ae(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Se(e,t){for(var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,a=a-a%r,s=i,r=!1,o=(n<a&&(s=a-t.bytesFilled,r=!0),e._queue);0<s;){var l=o[0],c=Math.min(s,l.byteLength),u=t.byteOffset+t.bytesFilled;p(t.buffer,u,l.buffer,l.byteOffset,c),l.byteLength===c?o.shift():(l.byteOffset+=c,l.byteLength-=c),e._queueTotalSize-=c,we(e,c,t),s-=c}return!1===r&&(h(0===e._queueTotalSize,"queue must be empty"),h(0<t.bytesFilled),h(t.bytesFilled<t.elementSize)),r}function we(e,t,r){h(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===r),Ce(e),r.bytesFilled+=t}function Pe(e){h("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?W(e._controlledReadableStream):be(e)}function Ce(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Re(e){for(h(!1===e._closeRequested);0<e._pendingPullIntos.length;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===Se(e,t)&&(xe(e),_e(e._controlledReadableStream,t))}}function ke(e,t){var r=e._pendingPullIntos[0],n=e._controlledReadableStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");var i=e,a=r,s=(a.buffer=v(a.buffer),h(0===a.bytesFilled,"bytesFilled must be 0"),i._controlledReadableStream);if(!0===X(s))for(;0<G(s);)_e(s,xe(i))}else{h("readable"===n._state);a=e,n=t,e=r;if(e.bytesFilled+n>e.byteLength)throw new RangeError("bytesWritten out of range");we(a,n,e),e.bytesFilled<e.elementSize||(xe(a),0<(n=e.bytesFilled%e.elementSize)&&(t=e.byteOffset+e.bytesFilled,Ae(a,t=e.buffer.slice(t-n,t),0,t.byteLength)),e.buffer=v(e.buffer),e.bytesFilled-=n,_e(a._controlledReadableStream,e),Re(a))}}function xe(e){var t=e._pendingPullIntos.shift();return Ce(e),t}function Te(e,t){var r=e._controlledReadableStream;h("readable"===r._state),ve(e),R(e),B(r,t)}function Ee(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ie(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Le(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function De(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Oe(e,t){h(void 0!==e._closedPromise_resolve),h(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Fe(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Ne(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Me(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function je(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}},function(e,t,r){var n=r(6),i=r(4),r=r(2);t.TransformStream=n.TransformStream,t.ReadableStream=i.ReadableStream,t.IsReadableStreamDisturbed=i.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=i.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=i.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=i.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=i.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=r.AcquireWritableStreamDefaultWriter,t.IsWritableStream=r.IsWritableStream,t.IsWritableStreamLocked=r.IsWritableStreamLocked,t.WritableStream=r.WritableStream,t.WritableStreamAbort=r.WritableStreamAbort,t.WritableStreamDefaultControllerError=r.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=r.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=r.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=r.WritableStreamDefaultWriterWrite},function(u,h,e){var t=function(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e};function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=e(1).assert,r=e(0),f=r.InvokeOrNoop,p=r.PromiseInvokeOrPerformFallback,m=r.PromiseInvokeOrNoop,g=r.typeIsObject,r=e(4),b=r.ReadableStream,v=r.ReadableStreamDefaultControllerClose,_=r.ReadableStreamDefaultControllerEnqueue,y=r.ReadableStreamDefaultControllerError,c=r.ReadableStreamDefaultControllerGetDesiredSize,r=e(2),A=r.WritableStream,S=r.WritableStreamDefaultControllerError;function w(t,e){if(!0===t._errored)throw new TypeError("TransformStream is already errored");if(!0===t._readableClosed)throw new TypeError("Readable side is already closed");var r=t._readableController;try{_(r,e)}catch(e){throw t._readableClosed=!0,i(t,e),t._storedError}!0==c(r)<=0&&!1===t._backpressure&&R(t,!0)}function P(e){l(!1===e._errored),l(!1===e._readableClosed);try{v(e._readableController)}catch(e){l(!1)}e._readableClosed=!0}function i(e,t){!1===e._errored&&n(e,t)}function n(e,t){l(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&S(e._writableController,t),!1===e._readableClosed&&y(e._readableController,t)}function C(e){return l(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?Promise.resolve():(l(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function R(t,r){l(t._backpressure!==r,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(r),t._backpressureChangePromise=new Promise(function(e){t._backpressureChangePromise_resolve=e}),t._backpressureChangePromise.then(function(e){l(e!==r,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),t._backpressure=r}function k(e,t){return w(t._controlledTransformStream,e),Promise.resolve()}function a(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function x(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}t(E,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return C(t)})}},{key:"write",value:function(e){var t,r,n=this._transformStream;return e=e,l(!1===(t=n)._errored),l(!1===t._transforming),l(!1===t._backpressure),t._transforming=!0,n=t._transformer,r=t._transformStreamController,p(n,"transform",[e,r],k,[e,r]).then(function(){return t._transforming=!1,C(t)},function(e){return i(t,e),Promise.reject(e)})}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,n(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var t=this._transformStream;return l(!1===t._transforming),t._writableDone=!0,m(t._transformer,"flush",[t._transformStreamController]).then(function(){return!0===t._errored?Promise.reject(t._storedError):(!1===t._readableClosed&&P(t),Promise.resolve())}).catch(function(e){return i(t,e),Promise.reject(t._storedError)})}}]);var T=E;function E(e,t){o(this,E),this._transformStream=e,this._startPromise=t}t(L,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return l(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure?Promise.resolve():(l(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return l(!0===e._backpressure,"pull() should be never called while _backpressure is false"),l(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),R(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,n(e,new TypeError("Readable side canceled"))}}]);var I=L;function L(e,t){o(this,L),this._transformStream=e,this._startPromise=t}t(O,[{key:"enqueue",value:function(e){if(!1===a(this))throw s("enqueue");w(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===a(this))throw s("close");var e=this._controlledTransformStream;if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");P(e)}},{key:"error",value:function(e){if(!1===a(this))throw s("error");var t=this._controlledTransformStream;if(!0===t._errored)throw new TypeError("TransformStream is already errored");n(t,e)}},{key:"desiredSize",get:function(){if(!1===a(this))throw s("desiredSize");var e=this._controlledTransformStream._readableController;return c(e)}}]);var D=O;function O(e){if(o(this,O),!1===x(e))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==e._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=e}function F(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(o(this,F),(this._transformer=e).readableStrategy),r=e.writableStrategy,n=(this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new D(this),void 0),i=new Promise(function(e){n=e}),a=new I(this,i),a=(this._readable=new b(a,t),new T(this,i)),t=(this._writable=new A(a,r),l(void 0!==this._writableController),l(void 0!==this._readableController),c(this._readableController)),s=(R(this,t<=0),this),a=f(e,"start",[s._transformStreamController]);n(a),i.catch(function(e){!1===s._errored&&(s._errored=!0,s._storedError=e)})}function s(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function N(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}t(F,[{key:"readable",get:function(){if(!1===x(this))throw N("readable");return this._readable}},{key:"writable",get:function(){if(!1===x(this))throw N("writable");return this._writable}}]),u.exports={TransformStream:F}},function(e,t,r){e.exports=r(5)}],n={},l.m=r,l.c=n,l.i=function(e){return e},l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=7));for(i in o)s[i]=o[i];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var I=t(0),l=t(13),L=t(7),h=4096,x={get value(){return(0,I.shadow)(x,"value",(0,I.isLittleEndian)())}};function c(o){o.mozCurrentTransform||(o._originalSave=o.save,o._originalRestore=o.restore,o._originalRotate=o.rotate,o._originalScale=o.scale,o._originalTranslate=o.translate,o._originalTransform=o.transform,o._originalSetTransform=o.setTransform,o._transformMatrix=o._transformMatrix||[1,0,0,1,0,0],o._transformStack=[],Object.defineProperty(o,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(o,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],e=e[5],s=t*i-r*n,o=r*n-t*i;return[i/s,r/o,n/o,t/s,(i*a-n*e)/o,(r*a-t*e)/s]}}),o.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},o.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},o.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},o.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},o.transform=function(e,t,r,n,i,a){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*t,s[1]*e+s[3]*t,s[0]*r+s[2]*n,s[1]*r+s[3]*n,s[0]*i+s[2]*a+s[4],s[1]*i+s[3]*a+s[5]],o._originalTransform(e,t,r,n,i,a)},o.setTransform=function(e,t,r,n,i,a){this._transformMatrix=[e,t,r,n,i,a],o._originalSetTransform(e,t,r,n,i,a)},o.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)})}r.prototype={getCanvas:function(e,t,r,n){var i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,r),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),n&&c(i.context),i},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};var p=r;function r(e){this.canvasFactory=e,this.cache=Object.create(null)}i.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}};var d=i;function i(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=I.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=I.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=I.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}t=function(){function i(e,t,r,n,i){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new p(this.canvasFactory),e&&c(e),this.cachedGetSinglePixelWidth=null}function b(u,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)u.putImageData(e,0,0);else{var t,r,h,d,f=e.height,p=e.width,m=f%16,g=(f-m)/16,b=0==m?g:1+g,v=u.createImageData(p,16),n=0,i=e.data,_=v.data;if(e.kind===I.ImageKind.GRAYSCALE_1BPP)for(var y=i.byteLength,a=new Uint32Array(_.buffer,0,_.byteLength>>2),A=a.length,S=p+7>>3,s=4294967295,o=x.value?4278190080:255,l=0;l<b;l++){for(h=l<g?16:m,r=t=0;r<h;r++){for(var w=y-n,P=0,C=S<w?p:8*w-7,R=-8&C,k=0,c=0;P<R;P+=8)c=i[n++],a[t++]=128&c?s:o,a[t++]=64&c?s:o,a[t++]=32&c?s:o,a[t++]=16&c?s:o,a[t++]=8&c?s:o,a[t++]=4&c?s:o,a[t++]=2&c?s:o,a[t++]=1&c?s:o;for(;P<C;P++)0===k&&(c=i[n++],k=128),a[t++]=c&k?s:o,k>>=1}for(;t<A;)a[t++]=0;u.putImageData(v,0,16*l)}else if(e.kind===I.ImageKind.RGBA_32BPP){for(d=16*p*4,l=r=0;l<g;l++)_.set(i.subarray(n,n+d)),n+=d,u.putImageData(v,0,r),r+=16;l<b&&(_.set(i.subarray(n,n+(d=p*m*4))),u.putImageData(v,0,r))}else{if(e.kind!==I.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+e.kind);for(d=p*(h=16),l=0;l<b;l++){for(t=0,r=d=g<=l?p*(h=m):d;r--;)_[t++]=i[n++],_[t++]=i[n++],_[t++]=i[n++],_[t++]=255;u.putImageData(v,0,16*l)}}}}function f(e,t){for(var r=t.height,n=t.width,i=r%16,a=(r-i)/16,u=0==i?a:1+a,s=e.createImageData(n,16),h=0,d=t.data,f=s.data,o=0;o<u;o++){for(var p=o<a?16:i,l=3,m=0;m<p;m++)for(var g,c=0,b=0;b<n;b++)c||(g=d[h++],c=128),f[l]=g&c?0:255,l+=4,c>>=1;e.putImageData(s,0,16*o)}}function u(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,i=r.length;n<i;n++){var a=r[n];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function s(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function T(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var a=r?r[e[i]]:e[i];t[i]=t[i]*a*(1/255)|0}}function E(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=r?t[i]*r[a>>8]>>8:t[i]*a>>16}}function r(e,t,u){var r=t.canvas,n=t.context,h=(e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY),t.backdrop||null);if(!t.transferMap&&L.WebGLUtils.isEnabled)return g=L.WebGLUtils.composeSMask(u.canvas,r,{subtype:t.subtype,backdrop:h}),e.setTransform(1,0,0,1,0,0),void e.drawImage(g,t.offsetX,t.offsetY);for(var d=n,f=u,p=r.width,m=r.height,g=t.subtype,n=h,b=t.transferMap,i=!!n,v=i?n[0]:0,_=i?n[1]:0,y=i?n[2]:0,A="Luminosity"===g?E:T,S=Math.min(m,Math.ceil(1048576/p)),a=0;a<m;a+=S){var s=Math.min(S,m-a),w=d.getImageData(0,a,p,s),s=f.getImageData(0,a,p,s);if(i){x=c=l=k=R=C=P=o=void 0;for(var o=w.data,P=v,C=_,R=y,k=o.length,l=3;l<k;l+=4){var x,c=o[l];0===c?(o[l-3]=P,o[l-2]=C,o[l-1]=R):c<255&&(o[l-3]=o[l-3]*c+P*(x=255-c)>>8,o[l-2]=o[l-2]*c+C*x>>8,o[l-1]=o[l-1]*c+R*x>>8)}}A(w.data,s.data,b),d.putImageData(s,0,a)}e.drawImage(r,0,0)}var e,n=["butt","round","square"],a=["miter","round","bevel"],o={},t={};for(e in i.prototype={beginDrawing:function(e){var t=e.transform,r=e.viewport,n=e.transparency,e=e.background,e=void 0===e?null:e,i=this.ctx.canvas.width,a=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=e||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,a),this.ctx.restore(),n&&(e=this.cachedCanvases.getCanvas("transparent",i,a,!0),this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),s(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,r.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,u,t,r){var n=e.argsArray,h=e.fnArray,i=u||0,a=n.length;if(a===i)return i;for(var s,o=10<a-i&&"function"==typeof t,d=o?Date.now()+15:0,f=0,p=this.commonObjs,m=this.objs;;){if(void 0!==r&&i===r.nextBreakPoint)return r.breakIt(i,t),i;if((s=h[i])!==I.OPS.dependency)this[s].apply(this,n[i]);else for(var g=n[i],l=0,b=g.length;l<b;l++){var c=g[l],v="g"===c[0]&&"_"===c[1]?p:m;if(!v.isResolved(c))return v.get(c,t),i}if(++i===a)return i;if(o&&10<++f){if(Date.now()>d)return t(),i;f=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),L.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=n[e]},setLineJoin:function(e){this.ctx.lineJoin=a[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],i=n[0],a=n[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,r=e.canvas.height,n="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(n,t,r,!0),t=this.ctx,r=t.mozCurrentTransform,n=(this.ctx.save(),n.context);n.scale(1/e.scaleX,1/e.scaleY),n.translate(-e.offsetX,-e.offsetY),n.transform.apply(n,r),e.startTransformInverse=n.mozCurrentTransformInverse,u(t,n),this.ctx=n,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx,t=(this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e,I.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform));this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx,e=(this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e),this.ctx.restore(),u(e,this.ctx),I.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform));this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(e,t,r,n,i,a){this.ctx.transform(e,t,r,n,i,a),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var r=this.ctx,n=this.current,i=n.x,a=n.y,s=0,o=0,u=e.length;s<u;s++)switch(0|e[s]){case I.OPS.rectangle:var i=t[o++],a=t[o++],l=t[o++],c=t[o++],l=i+(l=0===l?this.getSinglePixelWidth():l),c=a+(c=0===c?this.getSinglePixelWidth():c);this.ctx.moveTo(i,a),this.ctx.lineTo(l,a),this.ctx.lineTo(l,c),this.ctx.lineTo(i,c),this.ctx.lineTo(i,a),this.ctx.closePath();break;case I.OPS.moveTo:i=t[o++],a=t[o++],r.moveTo(i,a);break;case I.OPS.lineTo:i=t[o++],a=t[o++],r.lineTo(i,a);break;case I.OPS.curveTo:i=t[o+4],a=t[o+5],r.bezierCurveTo(t[o],t[o+1],t[o+2],t[o+3],i,a),o+=6;break;case I.OPS.curveTo2:r.bezierCurveTo(i,a,t[o],t[o+1],t[o+2],t[o+3]),i=t[o+2],a=t[o+3],o+=4;break;case I.OPS.curveTo3:i=t[o+2],a=t[o+3],r.bezierCurveTo(t[o],t[o+1],i,a,i,a),o+=4;break;case I.OPS.closePath:r.closePath()}n.setCurrentPoint(i,a)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.strokeColor;t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,r&&r.hasOwnProperty("type")&&"Pattern"===r.type?(t.save(),t.strokeStyle=r.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=r.getPattern(t,this),n=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=o},eoClip:function(){this.pendingClip=t},beginText:function(){this.current.textMatrix=I.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var r,n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for "+e);i.fontMatrix=n.fontMatrix||I.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,I.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font||(e=n.loadedName||"sans-serif",i=n.black?"900":n.bold?"bold":"normal",r=n.italic?"italic":"normal",e='"'+e+'", '+n.fallbackName,this.current.fontSizeScale=t/(n=t<16?16:100<t?100:t),this.ctx.font=r+" "+i+" "+n+"px "+e)},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,r,n,i,a){this.current.textMatrix=[e,t,r,n,i,a],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,r){var n,i=this.ctx,a=this.current,s=a.font,o=a.textRenderingMode,a=a.fontSize/a.fontSizeScale,l=o&I.TextRenderingMode.FILL_STROKE_MASK,o=!!(o&I.TextRenderingMode.ADD_TO_PATH_FLAG);(s.disableFontFace||o)&&(n=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace?(i.save(),i.translate(t,r),i.beginPath(),n(i,a),l!==I.TextRenderingMode.FILL&&l!==I.TextRenderingMode.FILL_STROKE||i.fill(),l!==I.TextRenderingMode.STROKE&&l!==I.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(l!==I.TextRenderingMode.FILL&&l!==I.TextRenderingMode.FILL_STROKE||i.fillText(e,t,r),l!==I.TextRenderingMode.STROKE&&l!==I.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,r)),o&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:t,y:r,fontSize:a,addToPath:n})},get isFontSubpixelAAEnabled(){for(var e=this.canvasFactory.create(10,10).context,t=(e.scale(1.5,1),e.fillText("I",0,10),e.getImageData(0,0,10,10).data),r=!1,n=3;n<t.length;n+=4)if(0<t[n]&&t[n]<255){r=!0;break}return(0,I.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(u){var e=this.current,t=e.font;if(t.isType3Font)return this.showType3Text(u);var h=e.fontSize;if(0!==h){for(var d,r=this.ctx,n=e.fontSizeScale,f=e.charSpacing,p=e.wordSpacing,m=e.fontDirection,g=e.textHScale*m,b=u.length,v=t.vertical,_=v?1:-1,y=t.defaultVMetrics,A=h*e.fontMatrix[0],S=e.textRenderingMode===I.TextRenderingMode.FILL&&!t.disableFontFace,w=(r.save(),r.transform.apply(r,e.textMatrix),r.translate(e.x,e.y+e.textRise),e.patternFill&&(r.fillStyle=e.fillColor.getPattern(r,this)),0<m?r.scale(g,-1):r.scale(g,1),e.lineWidth),P=e.textMatrixScale,i=(0===P||0===w?(d=e.textRenderingMode&I.TextRenderingMode.FILL_STROKE_MASK)!==I.TextRenderingMode.STROKE&&d!==I.TextRenderingMode.FILL_STROKE||(this.cachedGetSinglePixelWidth=null,w=.65*this.getSinglePixelWidth()):w/=P,1!==n&&(r.scale(n,n),w/=n),r.lineWidth=w,0),C=0;C<b;++C){var R,k,a,s,o,l,x,T,E,c=u[C];(0,I.isNum)(c)?i+=_*c*h/1e3:(E=!1,R=(c.isSpace?p:0)+f,k=c.fontChar,a=c.accent,s=c.width,l=v?(o=c.vmetric||y,l=c.vmetric?o[1]:.5*s,x=o[2]*A,s=o?-o[0]:s,o=(l=-l*A)/n,(i+x)/n):(o=i/n,0),t.remeasure&&0<s&&(s<(x=1e3*r.measureText(k).width/h*n)&&this.isFontSubpixelAAEnabled?(T=s/x,E=!0,r.save(),r.scale(T,1),o/=T):s!==x&&(o+=(s-x)/2e3*h/n)),(c.isInFont||t.missingFile)&&(S&&!a?r.fillText(k,o,l):(this.paintChar(k,o,l),a&&(T=o+a.offset.x/n,c=l-a.offset.y/n,this.paintChar(a.fontChar,T,c)))),i+=s*A+R*m,E&&r.restore())}v?e.y-=i*g:e.x+=i*g,r.restore()}},showType3Text:function(e){var t,r=this.ctx,n=this.current,i=n.font,a=n.fontSize,u=n.fontDirection,h=i.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,s=n.textHScale*u,p=n.fontMatrix||I.FONT_IDENTITY_MATRIX,m=e.length;if(!(n.textRenderingMode===I.TextRenderingMode.INVISIBLE)&&0!==a){for(this.cachedGetSinglePixelWidth=null,r.save(),r.transform.apply(r,n.textMatrix),r.translate(n.x,n.y),r.scale(s,u),t=0;t<m;++t){var o,l,c=e[t];(0,I.isNum)(c)?(this.ctx.translate(o=h*c*a/1e3,0),n.x+=o*s):(o=(c.isSpace?f:0)+d,(l=i.charProcOperatorList[c.operatorListId])?(this.processingType3=c,this.save(),r.scale(a,a),r.transform.apply(r,p),this.executeOperatorList(l),this.restore(),l=I.Util.applyTransform([c.width,0],p)[0]*a+o,r.translate(l,0),n.x+=l*s):(0,I.warn)('Type3 character "'+c.operatorListId+'" is not available.'))}r.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,r,n,i,a){this.ctx.rect(r,n,i-r,a-n),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,r,n=this;return"TilingPattern"===e[0]?(t=e[1],r=this.baseTransform||this.ctx.mozCurrentTransform.slice(),new l.TilingPattern(e,t,this.ctx,{createCanvasGraphics:function(e){return new i(e,n.commonObjs,n.objs,n.canvasFactory)}},r)):(0,l.getShadingPatternFromIR)(e)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,r){e=I.Util.makeCssRgb(e,t,r);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(e,t,r){e=I.Util.makeCssRgb(e,t,r);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1},shadingFill:function(e){var t,r,n,i,a,s=this.ctx,e=(this.save(),(0,l.getShadingPatternFromIR)(e)),e=(s.fillStyle=e.getPattern(s,this,!0),s.mozCurrentTransformInverse);e?(n=(s=s.canvas).width,s=s.height,a=I.Util.applyTransform([0,0],e),t=I.Util.applyTransform([0,s],e),r=I.Util.applyTransform([n,0],e),n=I.Util.applyTransform([n,s],e),s=Math.min(a[0],t[0],r[0],n[0]),e=Math.min(a[1],t[1],r[1],n[1]),i=Math.max(a[0],t[0],r[0],n[0]),a=Math.max(a[1],t[1],r[1],n[1]),this.ctx.fillRect(s,e,i-s,a-e)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){var r;this.save(),this.baseTransformStack.push(this.baseTransform),(0,I.isArray)(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,(0,I.isArray)(t)&&4===t.length&&(e=t[2]-t[0],r=t[3]-t[1],this.ctx.rect(t[0],t[1],e,r),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx,r=(e.isolated||(0,I.info)("TODO: Support non-isolated groups."),e.knockout&&(0,I.warn)("Knockout groups not supported."),t.mozCurrentTransform);if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var n=I.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),i=[0,0,t.canvas.width,t.canvas.height],n=I.Util.intersect(n,i)||[0,0,0,0],i=Math.floor(n[0]),a=Math.floor(n[1]),s=Math.max(Math.ceil(n[2])-i,1),n=Math.max(Math.ceil(n[3])-a,1),o=1,l=1,c=(h<s&&(o=s/h,s=h),h<n&&(l=n/h,n=h),"groupAt"+this.groupLevel),c=(e.smask&&(c+="_smask_"+this.smaskCounter++%2),this.cachedCanvases.getCanvas(c,s,n,!0)),s=c.context;s.scale(1/o,1/l),s.translate(-i,-a),s.transform.apply(s,r),e.smask?this.smaskStack.push({canvas:c.canvas,context:s,offsetX:i,offsetY:a,scaleX:o,scaleY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,a),t.scale(o,l)),u(t,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,r){var n,i;this.save(),s(this.ctx),this.current=new d,(0,I.isArray)(e)&&4===e.length&&(n=e[2]-e[0],i=e[3]-e[1],this.ctx.rect(e[0],e[1],n,i),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,r){var n,i=this.objs.get(e);i?(this.save(),(n=this.ctx).scale(1/t,-1/r),n.drawImage(i,0,0,i.width,i.height,0,-r,t,r),this.imageLayer&&(i=n.mozCurrentTransformInverse,n=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:e,left:n[0],top:n[1],width:t/i[0],height:r/i[3]})),this.restore()):(0,I.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,r=e.width,n=e.height,i=this.current.fillColor,a=this.current.patternFill,s=this.processingType3;s&&void 0===s.compiled&&(s.compiled=r<=1e3&&n<=1e3?function(u){for(var e,s=u.width,h=u.height,t=s+1,r=new Uint8Array(t*(h+1)),d=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=s+7&-8,p=u.data,n=new Uint8Array(f*h),i=0,a=0,m=p.length;a<m;a++)for(var g=128,b=p[a];0<g;)n[i++]=b&g?0:255,g>>=1;var o=0;for(0!==n[i=0]&&(r[0]=1,++o),l=1;l<s;l++)n[i]!==n[i+1]&&(r[l]=n[i]?2:1,++o),i++;for(0!==n[i]&&(r[l]=2,++o),a=1;a<h;a++){e=a*t,n[(i=a*f)-f]!==n[i]&&(r[e]=n[i]?1:8,++o);for(var v=(n[i]?4:0)+(n[i-f]?8:0),l=1;l<s;l++)d[v=(v>>2)+(n[i+1]?4:0)+(n[i-f+1]?8:0)]&&(r[e+l]=d[v],++o),i++;if(n[i-f]!==n[i]&&(r[e+l]=n[i]?2:4,++o),1e3<o)return null}for(e=a*t,0!==n[i=f*(h-1)]&&(r[e]=8,++o),l=1;l<s;l++)n[i]!==n[i+1]&&(r[e+l]=n[i]?4:8,++o),i++;if(0!==n[i]&&(r[e+l]=4,++o),1e3<o)return null;var _=new Int32Array([0,t,-1,0,-t,0,0,0,1]),y=[];for(a=0;o&&a<=h;a++){for(var c=a*t,A=c+s;c<A&&!r[c];)c++;if(c!==A){var S,w=[c%t,a],P=r[c],C=c;do{for(var R=_[P];!r[c+=R];);}while(5!==(S=r[c])&&10!==S?(P=S,r[c]=0):r[c]&=(P=S&51*P>>4)>>2|P<<2,w.push(c%t),w.push(c/t|0),--o,C!==c);y.push(w),--a}}return function(e){e.save(),e.scale(1/s,-1/h),e.translate(0,-h),e.beginPath();for(var t=0,r=y.length;t<r;t++){var n=y[t];e.moveTo(n[0],n[1]);for(var i=2,a=n.length;i<a;i+=2)e.lineTo(n[i],n[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:n}):null),s&&s.compiled?s.compiled(t):((t=(s=this.cachedCanvases.getCanvas("maskCanvas",r,n)).context).save(),f(t,e),t.globalCompositeOperation="source-in",t.fillStyle=a?i.getPattern(t,this):i,t.fillRect(0,0,r,n),t.restore(),this.paintInlineImageXObject(s.canvas))},paintImageMaskXObjectRepeat:function(e,t,u,r){for(var n=e.width,i=e.height,a=this.current.fillColor,h=this.current.patternFill,s=this.cachedCanvases.getCanvas("maskCanvas",n,i),o=s.context,l=(o.save(),f(o,e),o.globalCompositeOperation="source-in",o.fillStyle=h?a.getPattern(o,this):a,o.fillRect(0,0,n,i),o.restore(),this.ctx),c=0,d=r.length;c<d;c+=2)l.save(),l.transform(t,0,0,u,r[c],r[c+1]),l.scale(1,-1),l.drawImage(s.canvas,0,0,n,i,0,-1,1,1),l.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,i=0,u=e.length;i<u;i++){var a=e[i],s=a.width,o=a.height,l=this.cachedCanvases.getCanvas("maskCanvas",s,o),c=l.context;c.save(),f(c,a),c.globalCompositeOperation="source-in",c.fillStyle=n?r.getPattern(c,this):r,c.fillRect(0,0,s,o),c.restore(),t.save(),t.transform.apply(t,a.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,s,o,0,-1,1,1),t.restore()}},paintImageXObject:function(e){e=this.objs.get(e);e?this.paintInlineImageXObject(e):(0,I.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,r,n){e=this.objs.get(e);if(e){for(var i=e.width,a=e.height,s=[],o=0,l=n.length;o<l;o+=2)s.push({transform:[t,0,0,r,n[o],n[o+1]],x:0,y:0,w:i,h:a});this.paintInlineImageXObjectGroup(e,s)}else(0,I.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){for(var t,u,r=e.width,n=e.height,h=this.ctx,i=(this.save(),h.scale(1/r,-1/n),h.mozCurrentTransformInverse),a=i[0],d=i[1],f=Math.max(Math.sqrt(a*a+d*d),1),a=i[2],d=i[3],p=Math.max(Math.sqrt(a*a+d*d),1),m=e instanceof HTMLElement||!e.data?e:(b(u=(t=this.cachedCanvases.getCanvas("inlineImage",r,n)).context,e),t.canvas),s=r,o=n,g="prescale1";2<f&&1<s||2<p&&1<o;){var l=s,c=o;2<f&&1<s&&(f/=s/(l=Math.ceil(s/2))),2<p&&1<o&&(p/=o/(c=Math.ceil(o/2))),(u=(t=this.cachedCanvases.getCanvas(g,l,c)).context).clearRect(0,0,l,c),u.drawImage(m,0,0,s,o,0,0,l,c),m=t.canvas,s=l,o=c,g="prescale1"===g?"prescale2":"prescale1"}h.drawImage(m,0,0,s,o,0,-n,r,n),this.imageLayer&&(a=this.getCanvasPosition(0,-n),this.imageLayer.appendImage({imgData:e,left:a[0],top:a[1],width:r/i[0],height:n/i[3]})),this.restore()},paintInlineImageXObjectGroup:function(e,t){var r=this.ctx,n=e.width,i=e.height,a=this.cachedCanvases.getCanvas("inlineImage",n,i);b(a.context,e);for(var s=0,o=t.length;s<o;s++){var l=t[s];r.save(),r.transform.apply(r,l.transform),r.scale(1,-1),r.drawImage(a.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer&&(l=this.getCanvasPosition(l.x,l.y),this.imageLayer.appendImage({imgData:e,left:l[0],top:l[1],width:n,height:i})),r.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,I.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===t?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){var t;return null===this.cachedGetSinglePixelWidth&&(this.ctx.save(),t=this.ctx.mozCurrentTransformInverse,this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))),this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},I.OPS)i.prototype[I.OPS[e]]=i.prototype[e];return i}();e.CanvasGraphics=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var g=r(0);function h(e){this.docId=e,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}h.prototype={insertRule:function(e){var t=this.styleElement,t=(t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t)),t.sheet);t.insertRule(e,t.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0}};Object.defineProperty(h.prototype,"loadTestFont",{get:function(){return(0,g.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),h.prototype.addNativeFontFace=function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},h.prototype.bind=function(e,t){for(var r=[],n=[],i=[],a=h.isFontLoadingAPISupported&&!h.isSyncFontLoadingSupported,s=0,u=e.length;s<u;s++){var o,l=e[s];l.attached||!1===l.loading||(l.attached=!0,a?(o=l.createNativeFontFace())&&(this.addNativeFontFace(o),i.push(function(t){return t.loaded.catch(function(e){(0,g.warn)('Failed to load font "'+t.family+'": '+e)})}(o))):(o=l.createFontFaceRule())&&(this.insertRule(o),r.push(o),n.push(l)))}var c=this.queueLoadingCallback(t);a?Promise.all(i).then(function(){c.complete()}):0<r.length&&!h.isSyncFontLoadingSupported?this.prepareFontLoadEvent(r,n,c):c.complete()},h.prototype.queueLoadingCallback=function(e){var t=this.loadingContext,r={id:"pdfjs-font-loading-"+t.nextRequestId++,complete:function(){for((0,g.assert)(!r.end,"completeRequest() cannot be called twice"),r.end=Date.now();0<t.requests.length&&t.requests[0].end;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e,started:Date.now()};return t.requests.push(r),r},h.prototype.prepareFontLoadEvent=function(u,h,d){function e(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function f(e,t,r,n){return e.substr(0,t)+n+e.substr(t+r)}var t=document.createElement("canvas"),r=(t.width=1,t.height=1,t.getContext("2d")),p=0;function m(e,t){if(30<++p)return(0,g.warn)("Load test font never loaded."),void t();r.font="30px "+e,r.fillText(".",0,20),0<r.getImageData(0,0,1,1).data[3]?t():setTimeout(m.bind(null,e,t))}for(var n="lt"+Date.now()+this.loadTestFontId++,i=e(t=f(this.loadTestFont,976,n.length,n),16),a=0,s=n.length-3;a<s;a+=4)i=i-1482184792+e(n,a)|0;a<n.length&&(i=i-1482184792+e(n+"XXX",a)|0),t=f(t,16,4,(0,g.string32)(i));var t="url(data:font/opentype;base64,"+btoa(t)+");",o=(this.insertRule('@font-face { font-family:"'+n+'";src:'+t+"}"),[]);for(a=0,s=h.length;a<s;a++)o.push(h[a].loadedName);o.push(n);var l=document.createElement("div");for(l.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),a=0,s=o.length;a<s;++a){var c=document.createElement("span");c.textContent="Hi",c.style.fontFamily=o[a],l.appendChild(c)}document.body.appendChild(l),m(n,function(){document.body.removeChild(l),d.complete()})},h.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;Object.defineProperty(h,"isSyncFontLoadingSupported",{get:function(){return(0,g.shadow)(h,"isSyncFontLoadingSupported",function(){if("undefined"==typeof navigator)return!0;var e=!1,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return e=t&&14<=t[1]?!0:e}())},enumerable:!0,configurable:!0});var l={get value(){return(0,g.shadow)(this,"value",(0,g.isEvalSupported)())}};function n(e,t){for(var r in this.compiledGlyphs=Object.create(null),e)this[r]=e[r];this.options=t}n.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),e},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=(0,g.bytesToString)(new Uint8Array(this.data)),t=this.loadedName,e="url(data:"+this.mimetype+";base64,"+btoa(e)+");",t='@font-face { font-family:"'+t+'";src:'+e+"}";return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,e),t},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var r,n=e.get(this.loadedName+"_path_"+t);if(this.options.isEvalSupported&&l.value){for(var i,a="",s=0,o=n.length;s<o;s++)i=void 0!==(r=n[s]).args?r.args.join(","):"",a+="c."+r.cmd+"("+i+");\n";this.compiledGlyphs[t]=new Function("c","size",a)}else this.compiledGlyphs[t]=function(e,t){for(s=0,o=n.length;s<o;s++)"scale"===(r=n[s]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}return this.compiledGlyphs[t]}},t.FontFaceObject=n,t.FontLoader=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var b=r(0),E=r(7),n={RadialAxial:{fromIR:function(e){var a=e[1],s=e[2],o=e[3],l=e[4],c=e[5],u=e[6];return{type:"Pattern",getPattern:function(e){var t;"axial"===a?t=e.createLinearGradient(o[0],o[1],l[0],l[1]):"radial"===a&&(t=e.createRadialGradient(o[0],o[1],c,l[0],l[1],u));for(var r=0,n=s.length;r<n;++r){var i=s[r];t.addColorStop(i[0],i[1])}return t}}}}},h=function(e,t,u,h,d,r,f){var n,p=Math.floor(e[0]),m=Math.floor(e[1]),g=Math.ceil(e[2])-p,e=Math.ceil(e[3])-m,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),t=Math.min(Math.ceil(Math.abs(e*t[1]*1.1)),3e3),v={coords:u,colors:h,offsetX:-p,offsetY:-m,scaleX:1/(g=g/b),scaleY:1/(e=e/t)},u=b+4,h=t+4;if(E.WebGLUtils.isEnabled)n=E.WebGLUtils.drawFigures(b,t,r,d,v),(_=f.getCanvas("mesh",u,h,!1)).context.drawImage(n,2,2),n=_.canvas;else{var _,f=(_=f.getCanvas("mesh",u,h,!1)).context,y=f.createImageData(b,t);if(r)for(var A=y.data,i=0,S=A.length;i<S;i+=4)A[i]=r[0],A[i+1]=r[1],A[i+2]=r[2],A[i+3]=255;for(i=0;i<d.length;i++){T=c=x=k=o=w=l=s=a=R=C=P=void 0;var w,P=y,C=d[i],R=v,a=C.coords,s=C.colors;switch(C.type){case"lattice":for(var o=C.verticesPerRow,k=Math.floor(a.length/o)-1,x=o-1,l=0;l<k;l++)for(var c=l*o,T=0;T<x;T++,c++)I(P,R,a[c],a[c+1],a[c+o],s[c],s[c+1],s[c+o]),I(P,R,a[c+o+1],a[c+1],a[c+o],s[c+o+1],s[c+1],s[c+o]);break;case"triangles":for(l=0,w=a.length;l<w;l+=3)I(P,R,a[l],a[l+1],a[l+2],s[l],s[l+1],s[l+2]);break;default:throw new Error("illegal figure")}}f.putImageData(y,2,2),n=_.canvas}return{canvas:n,offsetX:p-2*g,offsetY:m-2*e,scaleX:g,scaleY:e}};function I(u,e,t,r,h,d,n,f){var i,a=e.coords,s=e.colors,p=u.data,m=4*u.width,g=(a[t+1]>a[r+1]&&(i=t,t=r,r=i,i=d,d=n,n=i),a[r+1]>a[h+1]&&(i=r,r=h,h=i,i=n,n=f,f=i),a[t+1]>a[r+1]&&(i=t,t=r,r=i,i=d,d=n,n=i),(a[t]+e.offsetX)*e.scaleX),o=(a[t+1]+e.offsetY)*e.scaleY,b=(a[r]+e.offsetX)*e.scaleX,v=(a[r+1]+e.offsetY)*e.scaleY,_=(a[h]+e.offsetX)*e.scaleX,y=(a[h+1]+e.offsetY)*e.scaleY;if(!(y<=o))for(var A,S,w,P=s[d],C=s[d+1],R=s[d+2],k=s[n],x=s[n+1],T=s[n+2],E=s[f],I=s[f+1],L=s[f+2],u=Math.round(o),D=Math.round(y),l=u;l<=D;l++)for(var c,O=l<v?(A=g-(g-b)*(c=l<o?0:o==v?1:(o-l)/(o-v)),S=P-(P-k)*c,w=C-(C-x)*c,R-(R-T)*c):(A=b-(b-_)*(c=y<l?1:v==y?0:(v-l)/(v-y)),S=k-(k-E)*c,w=x-(x-I)*c,T-(T-L)*c),F=g-(g-_)*(c=l<o?0:y<l?1:(o-l)/(o-y)),N=P-(P-E)*c,M=C-(C-I)*c,j=R-(R-L)*c,q=Math.round(Math.min(A,F)),U=Math.round(Math.max(A,F)),W=m*l+4*q,B=q;B<=U;B++)p[W++]=S-(S-N)*(c=(c=(A-B)/(A-F))<0?0:1<c?1:c)|0,p[W++]=w-(w-M)*c|0,p[W++]=O-(O-j)*c|0,p[W++]=255}n.Mesh={fromIR:function(e){var a=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[8];return{type:"Pattern",getPattern:function(e,t,r){r?n=b.Util.singularValueDecompose2dScale(e.mozCurrentTransform):(n=b.Util.singularValueDecompose2dScale(t.baseTransform),c&&(i=b.Util.singularValueDecompose2dScale(c),n=[n[0]*i[0],n[1]*i[1]]));var n,i=h(l,n,a,s,o,r?null:u,t.cachedCanvases);return r||(e.setTransform.apply(e,t.baseTransform),c&&e.transform.apply(e,c)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};r=function(){var i=1,a=2;function e(e,t,r,n,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=i,this.type="Pattern",this.ctx=r}return e.prototype={createPatternCanvas:function(e){var u=this.operatorList,t=this.bbox,h=this.xstep,d=this.ystep,f=this.paintType,r=this.tilingType,p=this.color,n=this.canvasGraphicsFactory,r=((0,b.info)("TilingType: "+r),t[0]),i=t[1],m=t[2],g=t[3],a=[r,i],s=[r+h,i+d],o=s[0]-a[0],s=s[1]-a[1],l=b.Util.singularValueDecompose2dScale(this.matrix),c=b.Util.singularValueDecompose2dScale(this.baseTransform),l=[l[0]*c[0],l[1]*c[1]],o=Math.min(Math.ceil(Math.abs(o*l[0])),3e3),s=Math.min(Math.ceil(Math.abs(s*l[1])),3e3),c=e.cachedCanvases.getCanvas("pattern",o,s,!0),l=c.context,n=n.createCanvasGraphics(l),e=(n.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(l,f,p),this.setScale(o,s,h,d),this.transformToScale(n),[1,0,0,1,-a[0],-a[1]]);return n.transform.apply(n,e),this.clipBbox(n,t,r,i,m,g),n.executeOperatorList(u),c.canvas},setScale:function(e,t,r,n){this.scale=[e/r,t/n]},transformToScale:function(e){var t=this.scale,t=[t[0],0,0,t[1],0,0];e.transform.apply(e,t)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,r,n,i,a){(0,b.isArray)(t)&&4===t.length&&(e.ctx.rect(r,n,i-r,a-n),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,r){switch(t){case i:var n=this.ctx;e.fillStyle=n.fillStyle,e.strokeStyle=n.strokeStyle;break;case a:n=b.Util.makeCssRgb(r[0],r[1],r[2]);e.fillStyle=n,e.strokeStyle=n;break;default:throw new b.FormatError("Unsupported paint type: "+t)}},getPattern:function(e,t){t=this.createPatternCanvas(t);return(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(t,"repeat")}},e}();t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=r(0);function n(e,t){var r=this,n=((0,i.assert)(t),this._queuedChunks=[],e.initialData);n&&0<n.length&&(n=new Uint8Array(n).buffer,this._queuedChunks.push(n)),this._pdfDataRangeTransport=t,this._isRangeSupported=!e.disableRange,this._isStreamingSupported=!e.disableStream,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){r._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function a(e,t){this._stream=e,this._done=!1,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}function s(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}n.prototype={_onReceiveData:function(t){var e,r=new Uint8Array(t.chunk).buffer;void 0===t.begin?this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r):(e=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(r),!0)}),(0,i.assert)(e))},_onProgress:function(e){var t;0<this._rangeReaders.length&&((t=this._rangeReaders[0]).onProgress&&t.onProgress({loaded:e.loaded}))},_removeRangeReader:function(e){e=this._rangeReaders.indexOf(e);0<=e&&this._rangeReaders.splice(e,1)},getFullReader:function(){(0,i.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new a(this,e)},getRangeReader:function(e,t){var r=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r},cancelAllRequests:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach(function(e){e.cancel(t)}),this._pdfDataRangeTransport.abort()}},a.prototype={_enqueue:function(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length)return e=this._queuedChunks.shift(),Promise.resolve({value:e,done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},s.prototype={_enqueue:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk)return e=this._queuedChunk,this._queuedChunk=null,Promise.resolve({value:e,done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},t.PDFDataTransportStream=n},function(c,e,t){"use strict";var r=t(0),n=t(8),i=t(2),a=t(5),s=t(3),o=t(1),l=t(4);t(9),e.PDFJS=n.PDFJS,e.build=i.build,e.version=i.version,e.getDocument=i.getDocument,e.LoopbackPort=i.LoopbackPort,e.PDFDataRangeTransport=i.PDFDataRangeTransport,e.PDFWorker=i.PDFWorker,e.renderTextLayer=a.renderTextLayer,e.AnnotationLayer=s.AnnotationLayer,e.CustomStyle=o.CustomStyle,e.createPromiseCapability=r.createPromiseCapability,e.PasswordResponses=r.PasswordResponses,e.InvalidPDFException=r.InvalidPDFException,e.MissingPDFException=r.MissingPDFException,e.SVGGraphics=l.SVGGraphics,e.NativeImageDecoding=r.NativeImageDecoding,e.UnexpectedResponseException=r.UnexpectedResponseException,e.OPS=r.OPS,e.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,e.isValidUrl=o.isValidUrl,e.createValidAbsoluteUrl=r.createValidAbsoluteUrl,e.createObjectURL=r.createObjectURL,e.removeNullCharacters=r.removeNullCharacters,e.shadow=r.shadow,e.createBlob=r.createBlob,e.RenderingCancelledException=o.RenderingCancelledException,e.getFilenameFromUrl=o.getFilenameFromUrl,e.addLinkAttributes=o.addLinkAttributes,e.StatTimer=r.StatTimer},function(l,c,u){"use strict";var h,d,e,f,p,m,g,_,y,A,t,r,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var o="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{},n="undefined"!=typeof navigator&&navigator.userAgent||"",w=/Android/.test(n),P=/Android\s[0-2][^\d]/.test(n),C=/Android\s[0-4][^\d]/.test(n),R=0<=n.indexOf("Chrom"),k=/Chrome\/(39|40)\./.test(n),x=0<=n.indexOf("CriOS"),T=0<=n.indexOf("Trident"),E=/\b(iPad|iPhone|iPod)(?=;)/.test(n),I=0<=n.indexOf("Opera"),L=/Safari\//.test(n)&&!/(Chrome\/|Android\s)/.test(n),i="object"===("undefined"==typeof window?"undefined":S(window))&&"object"===("undefined"==typeof document?"undefined":S(document));if("undefined"==typeof PDFJS&&(o.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){if("undefined"!=typeof Uint8Array)return void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),"undefined"==typeof Float64Array&&(o.Float64Array=Float32Array);function i(e,t){return new r(this.slice(e,t))}function a(e,t){arguments.length<2&&(t=0);for(var r=0,n=e.length;r<n;++r,++t)this[t]=255&e[r]}function n(e,t){this.buffer=e,this.byteLength=e.length,this.length=t;for(var r=this.length;s<r;)Object.defineProperty(n.prototype,s,function(n){return{get:function(){var e=this.buffer,t=n<<2;return(e[t]|e[1+t]<<8|e[2+t]<<16|e[3+t]<<24)>>>0},set:function(e){var t=this.buffer,r=n<<2;t[r]=255&e,t[1+r]=e>>8&255,t[2+r]=e>>16&255,t[3+r]=e>>>24&255}}}(s)),s++}n.prototype=Object.create(null);var s=0;function r(e){var t,r,n;if("number"==typeof e)for(t=[],r=0;r<e;++r)t[r]=0;else if("slice"in e)t=e.slice(0);else for(t=[],r=0,n=e.length;r<n;++r)t[r]=e[r];return t.subarray=i,(t.buffer=t).byteLength=t.length,t.set=a,"object"===(void 0===e?"undefined":S(e))&&e.buffer&&(t.buffer=e.buffer),t}o.Uint8Array=r,o.Int8Array=r,o.Int32Array=r,o.Uint16Array=r,o.Float32Array=r,o.Float64Array=r,o.Uint32Array=function(){if(3!==arguments.length)return r.apply(this,arguments);if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new n(arguments[0],arguments[2])}}(),i&&window.CanvasPixelArray&&("buffer"in(r=window.CanvasPixelArray.prototype)||(Object.defineProperty(r,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(r,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))),o.URL||(o.URL=o.webkitURL),function(){if(void 0!==Object.defineProperty){var t=!0;try{i&&Object.defineProperty(new Image,"id",{value:"test"});var e=function(){};e.prototype={get id(){}},Object.defineProperty(new e,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(e){t=!1}if(t)return}Object.defineProperty=function(e,t,r){delete e[t],"get"in r&&e.__defineGetter__(t,r.get),"set"in r&&e.__defineSetter__(t,r.set),"value"in r&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=r.value)}}(),"undefined"!=typeof XMLHttpRequest&&(r=XMLHttpRequest.prototype,"overrideMimeType"in(t=new XMLHttpRequest)||Object.defineProperty(r,"overrideMimeType",{value:function(e){}}),"responseType"in t||(Object.defineProperty(r,"responseType",{get:function(){return this._responseType||"text"},set:function(e){"text"!==e&&"arraybuffer"!==e||"arraybuffer"===(this._responseType=e)&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined")}}),"undefined"==typeof VBArray?Object.defineProperty(r,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;for(var e=this.responseText,t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r.buffer}}):Object.defineProperty(r,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}))),"btoa"in o||(A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.btoa=function(e){for(var t="",r=0,n=e.length;r<n;r+=3){var i=255&e.charCodeAt(r),a=255&e.charCodeAt(r+1),s=255&e.charCodeAt(r+2),o=(3&i)<<4|a>>4,a=r+1<n?(15&a)<<2|s>>6:64,s=r+2<n?63&s:64;t+=A.charAt(i>>2)+A.charAt(o)+A.charAt(a)+A.charAt(s)}return t}),"atob"in o||(o.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new Error("bad atob input");for(var t,r,n=0,i=0,a="";r=e.charAt(i++);~r&&(t=n%4?64*t+r:r,n++%4)&&(a+=String.fromCharCode(255&t>>(-2*n&6))))r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}),void 0===Function.prototype.bind&&(Function.prototype.bind=function(t){var r=this,n=Array.prototype.slice.call(arguments,1);return function(){var e=n.concat(Array.prototype.slice.call(arguments));return r.apply(t,e)}}),i&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,r=this.attributes.length;t<r;t++){var n=this.attributes[t];"data-"===n.name.substring(0,5)&&(e[n.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=n.value)}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})),i&&("classList"in document.createElement("div")||(y={add:function(e){Y(this.element,e,!0,!1)},contains:function(e){return Y(this.element,e,!1,!1)},remove:function(e){Y(this.element,e,!1,!0)},toggle:function(e){Y(this.element,e,!0,!0)}},Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(y,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0}))),"undefined"==typeof importScripts||"console"in o||(_={},o.console={log:function(){var e=Array.prototype.slice.call(arguments);o.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);o.postMessage({targetName:"main",action:"console_error",data:e})},time:function(e){_[e]=Date.now()},timeEnd:function(e){var t=_[e];if(!t)throw new Error("Unknown timer name "+e);this.log("Timer:",e,Date.now()-t)}}),i&&("console"in window?"bind"in console.log||(console.log=(g=console.log,function(e){return g(e)}),console.error=(m=console.error,function(e){return m(e)}),console.warn=(p=console.warn,function(e){return p(e)})):window.console={log:function(){},error:function(){},warn:function(){}}),I&&document.addEventListener("click",X,!0),(T||x)&&(PDFJS.disableCreateObjectURL=!0),"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")),(L||P||k||E)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0),i&&(history.pushState&&!P||(PDFJS.disableHistory=!0)),i&&(window.CanvasPixelArray?"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,r=this.length;t<r;t++)this[t]=e[t]}):(t=!1,R?t=(e=n.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2])<21:w?t=C:L&&(t=(e=n.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(e[1])<6),t&&(e=window.CanvasRenderingContext2D.prototype,f=e.createImageData,e.createImageData=function(e,t){e=f.call(this,e,t);return e.data.set=function(e){for(var t=0,r=this.length;t<r;t++)this[t]=e[t]},e}))),i&&(E?H():"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||H())),(E||w)&&(PDFJS.maxCanvasPixels=5242880),i&&T&&window.parent!==window&&(PDFJS.disableFullscreen=!0),i&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),i){I=document.createElement("input");try{I.type="number"}catch(e){var I=I.constructor.prototype,D=Object.getOwnPropertyDescriptor(I,"type");Object.defineProperty(I,"type",{get:function(){return D.get.call(this)},set:function(e){D.set.call(this,"number"===e?"text":e)},enumerable:!0,configurable:!0})}}i&&document.attachEvent&&(x=document.constructor.prototype,d=Object.getOwnPropertyDescriptor(x,"readyState"),Object.defineProperty(x,"readyState",{get:function(){var e=d.get.call(this);return"interactive"===e?"loading":e},set:function(e){d.set.call(this,e)},enumerable:!0,configurable:!0})),i&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),function(){if(o.Promise)return"function"!=typeof o.Promise.all&&(o.Promise.all=function(e){var r,n,i=0,a=[],t=new o.Promise(function(e,t){r=e,n=t});return e.forEach(function(e,t){i++,e.then(function(e){a[t]=e,0===--i&&r(a)},n)}),0===i&&r(a),t}),"function"!=typeof o.Promise.resolve&&(o.Promise.resolve=function(t){return new o.Promise(function(e){e(t)})}),"function"!=typeof o.Promise.reject&&(o.Promise.reject=function(r){return new o.Promise(function(e,t){t(r)})}),"function"!=typeof o.Promise.prototype.catch&&(o.Promise.prototype.catch=function(e){return o.Promise.prototype.then(void 0,e)});function h(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}var n={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;0<this.handlers.length;){var t=this.handlers.shift(),r=t.thisPromise._status,n=t.thisPromise._value;try{1===r?"function"==typeof t.onResolve&&(n=t.onResolve(n)):"function"==typeof t.onReject&&(n=t.onReject(n),r=1,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(e){r=2,n=e}if(t.nextPromise._updateStatus(r,n),Date.now()>=e)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){var i=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){i.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<i.unhandledRejections.length;t++)if(500<e-i.unhandledRejections[t].time){var r=i.unhandledRejections[t].promise._value,n="Unhandled rejection: "+r;r.stack&&(n+="\n"+r.stack);try{throw new Error(n)}catch(e){console.warn(n)}i.unhandledRejections.splice(t),t--}i.unhandledRejections.length&&i.scheduleRejectionCheck()},500))}};h.all=function(e){var r,n,i=new h(function(e,t){r=e,n=t}),a=e.length,s=[];if(0===a)return r(s),i;function t(e){2!==i._status&&(s=[],n(e))}for(var o=0,u=e.length;o<u;++o){var l=e[o],c=function(t){return function(e){2!==i._status&&(s[t]=e,0===--a&&r(s))}}(o);h.isPromise(l)?l.then(c,t):c(l)}return i},h.isPromise=function(e){return e&&"function"==typeof e.then},h.resolve=function(t){return new h(function(e){e(t)})},h.reject=function(r){return new h(function(e,t){t(r)})},h.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,t){1!==this._status&&2!==this._status&&(1===e&&h.isPromise(t)?t.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=e,this._value=t,2===e&&0===this._handlers.length&&(this._unhandledRejection=!0,n.addUnhandledRejection(this)),n.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(e){this._updateStatus(2,e)},then:function(e,t){var r=new h(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:t,nextPromise:r}),n.scheduleHandlers(this),r},catch:function(e){return this.then(void 0,e)}},o.Promise=h}(),o.WeakMap||(h=0,G.prototype={has:function(e){return("object"===(void 0===e?"undefined":S(e))||"function"==typeof e)&&null!==e&&!!Object.getOwnPropertyDescriptor(e,this.id)},get:function(e){return this.has(e)?e[this.id]:void 0},set:function(e,t){Object.defineProperty(e,this.id,{value:t,enumerable:!1,configurable:!0})},delete:function(e){delete e[this.id]}},o.WeakMap=G);var O,b,F,v,N,M,j,k=!1;try{"function"==typeof URL&&"object"===S(URL.prototype)&&"origin"in URL.prototype&&((O=new URL("b","http://a")).pathname="c%20d",k="http://a/c%20d"===O.href)}catch(e){}function q(e){return void 0!==b[e]}function U(){z.call(this),this._isInvalid=!0}function W(e){return""===e&&U.call(this),e.toLowerCase()}function B(e){var t=e.charCodeAt(0);return 32<t&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function a(e,t,r){function n(e){p.push(e)}var u,h,i=t||"scheme start",a=0,s="",d=!1,f=!1,p=[];e:for(;(e[a-1]!==v||0===a)&&!this._isInvalid;){var o=e[a];switch(i){case"scheme start":if(!o||!N.test(o)){if(t){n("Invalid scheme.");break e}s="",i="no scheme";continue}s+=o.toLowerCase(),i="scheme";break;case"scheme":if(o&&M.test(o))s+=o.toLowerCase();else{if(":"!==o){if(t){if(o===v)break e;n("Code point not allowed in scheme: "+o);break e}s="",a=0,i="no scheme";continue}if(this._scheme=s,s="",t)break e;q(this._scheme)&&(this._isRelative=!0),i="file"===this._scheme?"relative":this._isRelative&&r&&r._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===o?(this._query="?",i="query"):"#"===o?(this._fragment="#",i="fragment"):o!==v&&"\t"!==o&&"\n"!==o&&"\r"!==o&&(this._schemeData+=B(o));break;case"no scheme":if(r&&q(r._scheme)){i="relative";continue}n("Missing scheme."),U.call(this);break;case"relative or authority":if("/"!==o||"/"!==e[a+1]){n("Expected /, got: "+o),i="relative";continue}i="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=r._scheme),o===v){this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query=r._query,this._username=r._username,this._password=r._password;break e}if("/"===o||"\\"===o)"\\"===o&&n("\\ is an invalid code point."),i="relative slash";else if("?"===o)this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query="?",this._username=r._username,this._password=r._password,i="query";else{if("#"!==o){var m=e[a+1],l=e[a+2];("file"!==this._scheme||!N.test(o)||":"!==m&&"|"!==m||l!==v&&"/"!==l&&"\\"!==l&&"?"!==l&&"#"!==l)&&(this._host=r._host,this._port=r._port,this._username=r._username,this._password=r._password,this._path=r._path.slice(),this._path.pop()),i="relative path";continue}this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query=r._query,this._fragment="#",this._username=r._username,this._password=r._password,i="fragment"}break;case"relative slash":if("/"!==o&&"\\"!==o){"file"!==this._scheme&&(this._host=r._host,this._port=r._port,this._username=r._username,this._password=r._password),i="relative path";continue}"\\"===o&&n("\\ is an invalid code point."),i="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==o){n("Expected '/', got: "+o),i="authority ignore slashes";continue}i="authority second slash";break;case"authority second slash":if(i="authority ignore slashes","/"===o)break;n("Expected '/', got: "+o);continue;case"authority ignore slashes":if("/"!==o&&"\\"!==o){i="authority";continue}n("Expected authority, got: "+o);break;case"authority":if("@"===o){d&&(n("@ already seen."),s+="%40");for(var d=!0,g=0;g<s.length;g++){var c=s[g];"\t"!==c&&"\n"!==c&&"\r"!==c?":"!==c||null!==this._password?(c=B(c),null!==this._password?this._password+=c:this._username+=c):this._password="":n("Invalid whitespace in authority.")}s=""}else{if(o===v||"/"===o||"\\"===o||"?"===o||"#"===o){a-=s.length,s="",i="host";continue}s+=o}break;case"file host":if(o===v||"/"===o||"\\"===o||"?"===o||"#"===o){i=2!==s.length||!N.test(s[0])||":"!==s[1]&&"|"!==s[1]?(0===s.length||(this._host=W.call(this,s),s=""),"relative path start"):"relative path";continue}"\t"===o||"\n"===o||"\r"===o?n("Invalid whitespace in file host."):s+=o;break;case"host":case"hostname":if(":"!==o||f){if(o===v||"/"===o||"\\"===o||"?"===o||"#"===o){if(this._host=W.call(this,s),s="",i="relative path start",t)break e;continue}"\t"!==o&&"\n"!==o&&"\r"!==o?("["===o?f=!0:"]"===o&&(f=!1),s+=o):n("Invalid code point in host/hostname: "+o)}else if(this._host=W.call(this,s),s="",i="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(o))s+=o;else{if(o===v||"/"===o||"\\"===o||"?"===o||"#"===o||t){if(""!==s&&((m=parseInt(s,10))!==b[this._scheme]&&(this._port=m+""),s=""),t)break e;i="relative path start";continue}"\t"===o||"\n"===o||"\r"===o?n("Invalid code point in port: "+o):U.call(this)}break;case"relative path start":if("\\"===o&&n("'\\' not allowed in path."),i="relative path","/"!==o&&"\\"!==o)continue;break;case"relative path":o!==v&&"/"!==o&&"\\"!==o&&(t||"?"!==o&&"#"!==o)?"\t"!==o&&"\n"!==o&&"\r"!==o&&(s+=B(o)):("\\"===o&&n("\\ not allowed in relative path."),".."===(s=(l=F[s.toLowerCase()])?l:s)?(this._path.pop(),"/"!==o&&"\\"!==o&&this._path.push("")):"."===s&&"/"!==o&&"\\"!==o?this._path.push(""):"."!==s&&("file"===this._scheme&&0===this._path.length&&2===s.length&&N.test(s[0])&&"|"===s[1]&&(s=s[0]+":"),this._path.push(s)),s="","?"===o?(this._query="?",i="query"):"#"===o&&(this._fragment="#",i="fragment"));break;case"query":t||"#"!==o?o!==v&&"\t"!==o&&"\n"!==o&&"\r"!==o&&(this._query+=(h=void 0,32<(h=(u=o).charCodeAt(0))&&h<127&&-1===[34,35,60,62,96].indexOf(h)?u:encodeURIComponent(u))):(this._fragment="#",i="fragment");break;case"fragment":o!==v&&"\t"!==o&&"\n"!==o&&"\r"!==o&&(this._fragment+=o)}a++}}function z(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function s(e,t){void 0===t||t instanceof s||(t=new s(String(t))),this._url=e,z.call(this);e=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,e,null,t)}k||((b=Object.create(null)).ftp=21,b.file=0,b.gopher=70,b.http=80,b.https=443,b.ws=80,b.wss=443,(F=Object.create(null))["%2e"]=".",F[".%2e"]="..",F["%2e."]="..",F["%2e%2e"]="..",N=/[a-zA-Z]/,M=/[a-zA-Z0-9\+\-\.]/,s.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){z.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&((this._query="?")===e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||((this._fragment="#")===e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new s(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}},(j=o.URL)&&(s.createObjectURL=function(e){return j.createObjectURL.apply(j,arguments)},s.revokeObjectURL=function(e){j.revokeObjectURL(e)}),o.URL=s)}function G(){this.id="$weakmap"+h++}function H(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)},window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}function X(e){!function e(t){return t.disabled||t.parentNode&&e(t.parentNode)}(e.target)||e.stopPropagation()}function Y(e,t,r,n){var i=(e.className||"").split(/\s+/g),a=(""===i[0]&&i.shift(),i.indexOf(t));return a<0&&r&&i.push(t),0<=a&&n&&i.splice(a,1),e.className=i.join(" "),0<=a}},function(e,t,r){"use strict";var n=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),n=!0}catch(e){}t.ReadableStream=n?ReadableStream:r(10).ReadableStream}],i={},n.m=r,n.c=i,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15);function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,i});